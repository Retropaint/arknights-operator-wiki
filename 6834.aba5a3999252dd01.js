"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6834],{8878:(f,u,a)=>{a.d(u,{m:()=>m});var i=a(6738);let m=(()=>{class h{constructor(){this.units=[{minimum:1e3,name:"k"},{minimum:1e9,name:"m"}]}transform(l,d="short"){if("short"==d){for(let r of this.units.reverse())if(l>r.minimum)return l/r.minimum+r.name;return l.toString()}return(l*=100)+"%"}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275pipe=i.Yjl({name:"numberFormatter",type:h,pure:!0}),h})()},9980:(f,u,a)=>{a.d(u,{P:()=>o});var i=a(6738),m=a(6895),h=a(7479),g=a(6069),l=a(8878);function d(s,e){if(1&s&&(i.TgZ(0,"p",5),i._uU(1),i.ALo(2,"numberFormatter"),i.qZA()),2&s){const t=i.oxw();i.xp6(1),i.Oqu(i.xi3(2,1,t.item.amount,"short"))}}const r=function(s,e){return{mastery:s,grouped:e}},c=function(s){return{grouped:s}};let o=(()=>{class s{constructor(){this.isMastery=!1,this.isGrouped=!1}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-item"]],inputs:{item:"item",isMastery:"isMastery",isGrouped:"isGrouped"},decls:7,vars:14,consts:[["routerLink","/item",1,"required-item",3,"ngClass"],[1,"name"],[1,"item-bg",3,"ngClass","src"],[1,"item-img",3,"ngClass","src"],["class","amount",4,"ngIf"],[1,"amount"]],template:function(t,n){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"p"),i._uU(3),i.qZA()(),i._UZ(4,"ion-img",2)(5,"ion-img",3),i.YNc(6,d,3,4,"p",4),i.qZA()),2&t&&(i.Q6J("ngClass",i.WLB(7,r,n.isMastery,n.isGrouped)),i.xp6(3),i.hij(" ",n.item.name," "),i.xp6(1),i.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/material/bg/item-",n.item.rarity,".png"),i.Q6J("ngClass",i.VKq(10,c,n.isGrouped)),i.xp6(1),i.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/items/",n.item.imgId,".png"),i.Q6J("ngClass",i.VKq(12,c,n.isGrouped)),i.xp6(1),i.Q6J("ngIf",n.item.amount))},dependencies:[m.mk,m.O5,h.Xz,h.YI,g.rH,l.m],styles:[".required-item[_ngcontent-%COMP%] {\n  display: inline-flex;\n  align-items: center;\n  padding-right: 10px;\n  --container-offset: 28px;\n  --container-y-offset: -70px;\n  cursor: pointer;\n}\n.required-item.mastery[_ngcontent-%COMP%] {\n  padding-right: 3px;\n}\n.required-item.grouped[_ngcontent-%COMP%] {\n  padding-right: 0px;\n  --container-offset: 38px;\n  --container-y-offset: -80px;\n}\n.required-item[_ngcontent-%COMP%]:hover    > .item-bg[_ngcontent-%COMP%] {\n  transform: scale(2);\n  z-index: 98;\n}\n.required-item[_ngcontent-%COMP%]:hover    > .item-img[_ngcontent-%COMP%] {\n  transform: translate(7px, 2px) scale(2);\n  z-index: 99;\n}\n.required-item[_ngcontent-%COMP%]:hover    > .amount[_ngcontent-%COMP%] {\n  transform: translate(50px, 32px) scale(2);\n  z-index: 100;\n}\n.required-item[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%] {\n  --container-center: -50%;\n  transform-origin: bottom;\n  transform: translate(calc(var(--container-center) + var(--container-offset)), var(--container-y-offset)) scale(1.25);\n  z-index: 100;\n  opacity: 1;\n}\n.item-bg[_ngcontent-%COMP%] {\n  width: 50px;\n  height: 50px;\n}\n.item-bg.grouped[_ngcontent-%COMP%] {\n  height: 70px;\n  width: 70px;\n}\n.item-img[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  transform: translate(7px, 0px);\n}\n.item-img.grouped[_ngcontent-%COMP%] {\n  width: 49px;\n  height: 49px;\n  transform: translate(10px, 0px);\n}\n.amount[_ngcontent-%COMP%] {\n  position: absolute;\n  padding: 2px;\n  padding-left: 3px;\n  padding-right: 3px;\n  background: rgba(0, 0, 0, 0.75);\n  transform: translate(35px, 16px);\n  font-size: 12px;\n  pointer-events: none;\n}\n.name[_ngcontent-%COMP%] {\n  position: absolute;\n  background: black;\n  border: 1px solid white;\n  padding: 5px;\n  opacity: 0;\n  box-shadow: 0px 0px 10px 5px rgb(0, 0, 0);\n  pointer-events: none;\n}"]}),s})()},6874:(f,u,a)=>{a.d(u,{L:()=>c,r:()=>r});var i=a(6738),m=a(6895);const h=["zoomContainer"],g=["imageThumbnail"],l=["fullSizeImage"],d=function(o){return{ngxImageZoomFullContainer:!0,ngxImageZoomLensEnabled:o}};let r=(()=>{class o{constructor(e,t){this.renderer=e,this.changeDetectorRef=t,this.zoomScroll=new i.vpe,this.zoomPosition=new i.vpe,this.imagesLoaded=new i.vpe,this.enableLens=!1,this.lensBorderRadius=0,this.thumbWidth=0,this.thumbHeight=0,this.fullWidth=0,this.fullHeight=0,this.lensWidth=100,this.lensHeight=100,this.zoomMode="hover",this.magnification=1,this.enableScrollZoom=!1,this.scrollStepSize=.1,this.circularLens=!1,this.minZoomRatio=1,this.maxZoomRatio=2,this.xRatio=0,this.yRatio=0,this.zoomingEnabled=!1,this.zoomFrozen=!1,this.isReady=!1,this.thumbImageLoaded=!1,this.fullImageLoaded=!1,this.latestMouseLeft=-1,this.latestMouseTop=-1,this.eventListeners=[],this.altText="",this.titleText=""}set setThumbImage(e){this.thumbImageLoaded=!1,this.setIsReady(!1),this.thumbImage=e}set setFullImage(e){this.fullImageLoaded=!1,this.setIsReady(!1),this.fullImage=e}set setZoomMode(e){o.validZoomModes.some(t=>t===e)&&(this.zoomMode=e)}set setMagnification(e){this.magnification=Number(e)||this.magnification,this.zoomScroll.emit(this.magnification)}set setMinZoomRatio(e){const t=Number(e)||this.minZoomRatio||this.baseRatio||0;this.minZoomRatio=Math.max(t,this.baseRatio||0)}set setMaxZoomRatio(e){this.maxZoomRatio=Number(e)||this.maxZoomRatio}set setScrollStepSize(e){this.scrollStepSize=Number(e)||this.scrollStepSize}set setEnableLens(e){this.enableLens=Boolean(e)}set setLensWidth(e){this.lensWidth=Number(e)||this.lensWidth}set setLensHeight(e){this.lensHeight=Number(e)||this.lensHeight}set setCircularLens(e){this.circularLens=Boolean(e)}set setEnableScrollZoom(e){this.enableScrollZoom=Boolean(e)}ngOnInit(){this.setUpEventListeners()}ngOnChanges(){this.enableLens&&(this.lensBorderRadius=this.circularLens?this.lensWidth/2:0),this.calculateRatioAndOffset(),this.calculateImageAndLensPosition()}ngOnDestroy(){this.eventListeners.forEach(e=>e())}onThumbImageLoaded(){this.thumbImageLoaded=!0,this.checkImagesLoaded()}onFullImageLoaded(){this.fullImageLoaded=!0,this.checkImagesLoaded()}setUpEventListeners(){const e=this.zoomContainer.nativeElement;switch(this.zoomMode){case"hover":this.eventListeners.push(this.renderer.listen(e,"mouseenter",t=>this.hoverMouseEnter(t)),this.renderer.listen(e,"mouseleave",()=>this.hoverMouseLeave()),this.renderer.listen(e,"mousemove",t=>this.hoverMouseMove(t)));break;case"toggle":this.eventListeners.push(this.renderer.listen(e,"click",t=>this.toggleClick(t)));break;case"toggle-click":this.eventListeners.push(this.renderer.listen(e,"click",t=>this.toggleClick(t)),this.renderer.listen(e,"mouseleave",()=>this.clickMouseLeave()),this.renderer.listen(e,"mousemove",t=>this.clickMouseMove(t)));break;case"click":this.eventListeners.push(this.renderer.listen(e,"click",t=>this.clickStarter(t)),this.renderer.listen(e,"mouseleave",()=>this.clickMouseLeave()),this.renderer.listen(e,"mousemove",t=>this.clickMouseMove(t)));break;case"hover-freeze":this.eventListeners.push(this.renderer.listen(e,"mouseenter",t=>this.hoverFreezeMouseEnter(t)),this.renderer.listen(e,"mouseleave",()=>this.hoverFreezeMouseLeave()),this.renderer.listen(e,"mousemove",t=>this.hoverFreezeMouseMove(t)),this.renderer.listen(e,"click",t=>this.hoverFreezeClick(t)))}this.enableScrollZoom&&this.eventListeners.push(this.renderer.listen(e,"mousewheel",t=>this.onMouseWheel(t)),this.renderer.listen(e,"DOMMouseScroll",t=>this.onMouseWheel(t)),this.renderer.listen(e,"onmousewheel",t=>this.onMouseWheel(t))),this.enableLens&&this.circularLens&&(this.lensBorderRadius=this.lensWidth/2)}checkImagesLoaded(){this.calculateRatioAndOffset(),this.thumbImageLoaded&&this.fullImageLoaded&&(this.calculateImageAndLensPosition(),this.setIsReady(!0))}setIsReady(e){this.isReady=e,this.imagesLoaded.emit(e)}setZoomPosition(e,t){this.latestMouseLeft=Number(e)||this.latestMouseLeft,this.latestMouseTop=Number(t)||this.latestMouseTop,this.zoomPosition.emit({x:this.latestMouseLeft,y:this.latestMouseTop})}onMouseWheel(e){this.zoomingEnabled&&!this.zoomFrozen&&(e=window.event||e,this.setMagnification=Math.max(Math.min(e.wheelDelta||-e.detail,1),-1)>0?Math.min(this.magnification+this.scrollStepSize,this.maxZoomRatio):Math.max(this.magnification-this.scrollStepSize,this.minZoomRatio),this.calculateRatio(),this.calculateZoomPosition(e),e.returnValue=!1,e.preventDefault&&e.preventDefault())}hoverMouseEnter(e){this.zoomOn(e)}hoverMouseLeave(){this.zoomOff()}hoverMouseMove(e){this.calculateZoomPosition(e)}toggleClick(e){this.zoomingEnabled?this.zoomOff():this.zoomOn(e)}clickStarter(e){!1===this.zoomingEnabled&&this.zoomOn(e)}clickMouseLeave(){this.zoomOff()}clickMouseMove(e){this.zoomingEnabled&&this.calculateZoomPosition(e)}hoverFreezeMouseEnter(e){this.zoomingEnabled&&!this.zoomFrozen&&this.zoomOn(e)}hoverFreezeMouseLeave(){this.zoomingEnabled&&!this.zoomFrozen&&this.zoomOff()}hoverFreezeMouseMove(e){this.zoomingEnabled&&!this.zoomFrozen&&this.calculateZoomPosition(e)}hoverFreezeClick(e){this.zoomingEnabled&&this.zoomFrozen?(this.zoomFrozen=!1,this.zoomOff()):this.zoomingEnabled?(this.zoomFrozen=!0,this.changeDetectorRef.markForCheck()):this.zoomOn(e)}zoomOn(e){this.isReady&&(this.zoomingEnabled=!0,this.calculateRatioAndOffset(),this.display="block",this.calculateZoomPosition(e),this.changeDetectorRef.markForCheck())}zoomOff(){this.zoomingEnabled=!1,this.display="none",this.changeDetectorRef.markForCheck()}calculateZoomPosition(e){const t=Math.max(Math.min(e.offsetX,this.thumbWidth),0),n=Math.max(Math.min(e.offsetY,this.thumbHeight),0);this.setZoomPosition(t,n),this.calculateImageAndLensPosition(),this.changeDetectorRef.markForCheck()}calculateImageAndLensPosition(){let e=0,t=0;this.enableLens&&this.latestMouseLeft>0&&(e=this.lensLeft=this.latestMouseLeft-this.lensWidth/2,t=this.lensTop=this.latestMouseTop-this.lensHeight/2),this.fullImageLeft=this.latestMouseLeft*-this.xRatio-e,this.fullImageTop=this.latestMouseTop*-this.yRatio-t}calculateRatioAndOffset(){this.thumbWidth=this.imageThumbnail.nativeElement.width,this.thumbHeight=this.imageThumbnail.nativeElement.height,this.enableLens||(this.lensWidth=this.thumbWidth,this.lensHeight=this.thumbHeight,this.lensLeft=0,this.lensTop=0),this.offsetTop=this.imageThumbnail.nativeElement.getBoundingClientRect().top,this.offsetLeft=this.imageThumbnail.nativeElement.getBoundingClientRect().left,void 0===this.fullImage&&(this.fullImage=this.thumbImage),this.fullImageLoaded&&(this.fullWidth=this.fullSizeImage.nativeElement.naturalWidth,this.fullHeight=this.fullSizeImage.nativeElement.naturalHeight,this.baseRatio=Math.max(this.thumbWidth/this.fullWidth,this.thumbHeight/this.fullHeight),this.minZoomRatio=Math.max(this.minZoomRatio||0,this.baseRatio||0),this.calculateRatio())}calculateRatio(){this.magnifiedWidth=this.fullWidth*this.magnification,this.magnifiedHeight=this.fullHeight*this.magnification,this.xRatio=(this.magnifiedWidth-this.thumbWidth)/this.thumbWidth,this.yRatio=(this.magnifiedHeight-this.thumbHeight)/this.thumbHeight}}return o.validZoomModes=["hover","toggle","click","toggle-click","hover-freeze"],o.\u0275fac=function(e){return new(e||o)(i.Y36(i.Qsj),i.Y36(i.sBO))},o.\u0275cmp=i.Xpm({type:o,selectors:[["lib-ngx-image-zoom"]],viewQuery:function(e,t){if(1&e&&(i.Gf(h,7),i.Gf(g,7),i.Gf(l,7)),2&e){let n;i.iGM(n=i.CRH())&&(t.zoomContainer=n.first),i.iGM(n=i.CRH())&&(t.imageThumbnail=n.first),i.iGM(n=i.CRH())&&(t.fullSizeImage=n.first)}},inputs:{setThumbImage:["thumbImage","setThumbImage"],setFullImage:["fullImage","setFullImage"],setZoomMode:["zoomMode","setZoomMode"],setMagnification:["magnification","setMagnification"],setMinZoomRatio:["minZoomRatio","setMinZoomRatio"],setMaxZoomRatio:["maxZoomRatio","setMaxZoomRatio"],setScrollStepSize:["scrollStepSize","setScrollStepSize"],setEnableLens:["enableLens","setEnableLens"],setLensWidth:["lensWidth","setLensWidth"],setLensHeight:["lensHeight","setLensHeight"],setCircularLens:["circularLens","setCircularLens"],setEnableScrollZoom:["enableScrollZoom","setEnableScrollZoom"],altText:"altText",titleText:"titleText"},outputs:{zoomScroll:"zoomScroll",zoomPosition:"zoomPosition",imagesLoaded:"imagesLoaded"},features:[i.TTD],decls:7,vars:35,consts:[[1,"ngxImageZoomContainer"],["zoomContainer",""],[1,"ngxImageZoomThumbnail",3,"alt","title","src","load"],["imageThumbnail",""],[3,"ngClass"],[1,"ngxImageZoomFull",3,"alt","title","src","load"],["fullSizeImage",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0,1)(2,"img",2,3),i.NdJ("load",function(){return t.onThumbImageLoaded()}),i.qZA(),i.TgZ(4,"div",4)(5,"img",5,6),i.NdJ("load",function(){return t.onFullImageLoaded()}),i.qZA()()()),2&e&&(i.Udp("width",t.thumbWidth,"px")("height",t.thumbHeight,"px"),i.xp6(2),i.Q6J("alt",t.altText)("title",t.titleText)("src",t.thumbImage,i.LSH),i.xp6(2),i.Udp("display",t.display)("top",t.lensTop,"px")("left",t.lensLeft,"px")("width",t.lensWidth,"px")("height",t.lensHeight,"px")("border-radius",t.lensBorderRadius,"px"),i.Q6J("ngClass",i.VKq(33,d,t.enableLens)),i.xp6(1),i.Udp("display",t.display)("top",t.fullImageTop,"px")("left",t.fullImageLeft,"px")("width",t.magnifiedWidth,"px")("height",t.magnifiedHeight,"px"),i.Q6J("alt",t.altText)("title",t.titleText)("src",t.fullImage,i.LSH))},dependencies:[m.mk],styles:[".ngxImageZoomContainer[_ngcontent-%COMP%]{position:relative;margin:auto;overflow:hidden;pointer-events:none}.ngxImageZoomThumbnail[_ngcontent-%COMP%]{pointer-events:all}.ngxImageZoomFull[_ngcontent-%COMP%]{position:absolute;max-width:none;max-height:none;display:none;pointer-events:none}.ngxImageZoomFullContainer[_ngcontent-%COMP%]{position:absolute;overflow:hidden;pointer-events:none}.ngxImageZoomFullContainer.ngxImageZoomLensEnabled[_ngcontent-%COMP%]{border:2px solid red;cursor:crosshair;pointer-events:none}"]}),o})(),c=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[[m.ez]]}),o})()}}]);