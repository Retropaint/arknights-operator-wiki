"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[773],{773:(v,C,g)=>{g.r(C),g.d(C,{OperatorPageModule:()=>Tt});var c=g(6895),u=g(4719),h=g(7479),b=g(6069),m=g(4325),n=g(6738),x=g(4382),f=g(358),d=g(9082),Z=g(1385),y=g(1555),O=g(6572),M=g(1397);const k=function(t){return{selected:t}};function J(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"table",3)(1,"tbody")(2,"tr")(3,"th",4),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return a.includeTrust=!a.includeTrust,n.KtG(a.reset())}),n._uU(4,"Include 200 Trust"),n.qZA(),n.TgZ(5,"th",5),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return a.includePotentials=!a.includePotentials,n.KtG(a.reset())}),n._uU(6,"Include All Potentials"),n.qZA()()()()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngClass",n.VKq(2,k,e.includeTrust)),n.xp6(2),n.Q6J("ngClass",n.VKq(4,k,e.includePotentials))}}function Q(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td")(2,"div",19),n._UZ(3,"ion-img",20),n._uU(4),n.qZA()(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA(),n.TgZ(17,"td"),n._uU(18),n.qZA(),n.TgZ(19,"td"),n._uU(20),n.qZA()()),2&t){const e=o.$implicit;n.xp6(3),n.MGl("src","assets/icons/elitePhases/",e.elite,".webp"),n.xp6(1),n.hij(" ",e.level," "),n.xp6(2),n.hij(" ",e.stats.hp," "),n.xp6(2),n.hij(" ",e.stats.atk," "),n.xp6(2),n.hij(" ",e.stats.def," "),n.xp6(2),n.hij(" ",e.stats.res," "),n.xp6(2),n.hij(" ",e.stats.time," "),n.xp6(2),n.hij(" ",e.stats.cost," "),n.xp6(2),n.hij(" ",e.stats.blockCount," "),n.xp6(2),n.hij(" ",e.stats.attackInterval,"s ")}}function I(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td")(2,"div",19),n._UZ(3,"ion-img",20),n._uU(4),n.qZA()(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA(),n.TgZ(17,"td"),n._uU(18),n.qZA(),n.TgZ(19,"td"),n._uU(20),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(3),n.MGl("src","assets/icons/elitePhases/",e.parsedCustomLevel.elite,".webp"),n.xp6(1),n.hij(" ",e.parsedCustomLevel.level," "),n.xp6(2),n.hij(" ",e.customStats.hp," "),n.xp6(2),n.hij(" ",e.customStats.atk," "),n.xp6(2),n.hij(" ",e.customStats.def," "),n.xp6(2),n.hij(" ",e.customStats.res," "),n.xp6(2),n.hij(" ",e.customStats.time," "),n.xp6(2),n.hij(" ",e.customStats.cost," "),n.xp6(2),n.hij(" ",e.customStats.blockCount," "),n.xp6(2),n.hij(" ",e.customStats.attackInterval,"s ")}}const P=function(t){return{"bottom-margin":t}},L=function(t){return{opStatHeader:t}};function B(t,o){if(1&t&&(n.TgZ(0,"table",6)(1,"tbody")(2,"tr",7)(3,"th",8),n._uU(4," Stat "),n.qZA(),n.TgZ(5,"th"),n._UZ(6,"ion-img",9),n.qZA(),n.TgZ(7,"th"),n._UZ(8,"ion-img",10),n.qZA(),n.TgZ(9,"th"),n._UZ(10,"ion-img",11),n.qZA(),n.TgZ(11,"th"),n._UZ(12,"ion-img",12),n.qZA(),n.TgZ(13,"th"),n._UZ(14,"ion-img",13),n.qZA(),n.TgZ(15,"th"),n._UZ(16,"ion-img",14),n.qZA(),n.TgZ(17,"th"),n._UZ(18,"ion-img",15),n.qZA(),n.TgZ(19,"th"),n._UZ(20,"ion-img",16),n.qZA()(),n.YNc(21,Q,21,10,"tr",17),n.YNc(22,I,21,10,"tr",18),n.qZA()()),2&t){const e=n.oxw();n.Q6J("ngClass",n.VKq(4,P,e.isSummon&&!e.doctor.statSlider)),n.xp6(3),n.Q6J("ngClass",n.VKq(6,L,!e.isSummon)),n.xp6(18),n.Q6J("ngForOf",e.displayedBreakpoints),n.xp6(1),n.Q6J("ngIf",e.doctor.statSlider)}}function j(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"table",21)(1,"tbody")(2,"tr")(3,"td",22)(4,"input",23),n.NdJ("ngModelChange",function(a){n.CHM(e);const s=n.oxw();return n.KtG(s.customLevel=a)})("ngModelChange",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.parseCustomLevel())}),n.qZA()()()()()}if(2&t){const e=n.oxw();n.Q6J("ngClass",n.VKq(3,P,e.isSummon)),n.xp6(4),n.Q6J("ngModel",e.customLevel)("max",e.maxCustomLevel)}}let Y=(()=>{class t{constructor(e){this.doctorService=e,this.doctor={levelBreakpoints:[],statSlider:!1,skillSlider:!1},this.customLevel=0,this.maxCustomLevel=0,this.visualBreakpoints=[],this.includeTrust=!0,this.includePotentials=!0,this.isSummon=!1}ngOnInit(){this.isSummon=this.subject.id.includes("token"),this.displayedBreakpoints=this.visualBreakpoints.slice(),this.visualBreakpoints=[],this.maxCustomLevel=0,this.subject.statBreakpoints.forEach(e=>{this.maxCustomLevel+=e.maxLevel}),this.parsedCustomLevel={level:0,elite:0},this.customStats=this.calculateStats(0,0),setTimeout(()=>{this.doctor=this.doctorService.doctor,this.getBreakpoints(),this.displayedBreakpoints=this.visualBreakpoints})}reset(){this.displayedBreakpoints=this.visualBreakpoints.slice(),this.visualBreakpoints=[],setTimeout(()=>{this.getBreakpoints(),this.parseCustomLevel(),this.displayedBreakpoints=this.visualBreakpoints})}getBreakpoints(){this.doctor.levelBreakpoints.forEach(e=>{if(null==this.subject.statBreakpoints[e.elite]){if(this.visualBreakpoints.length>0)return;{const a=this.subject.statBreakpoints.length-1,s={elite:a,level:this.subject.statBreakpoints[a].maxLevel,stats:this.calculateStats(a,e.level)};return void this.visualBreakpoints.push(s)}}const i={elite:e.elite,level:Math.min(e.level,this.subject.statBreakpoints[e.elite].maxLevel),stats:this.calculateStats(e.elite,e.level)};this.visualBreakpoints.push(i)})}calculateStats(e,i){if(null==this.subject.statBreakpoints[e])return;const a=this.subject.statBreakpoints[e];if(0==(i=Math.min(i,this.subject.statBreakpoints[e].maxLevel)))return this.addTrustAndPotential(a.minStats);if(i==a.maxLevel)return this.addTrustAndPotential(a.maxStats);let s={};return Object.keys(this.subject.statBreakpoints[0].minStats).forEach(l=>{if("number"==typeof a.minStats[l]&&"attackInterval"!=l){const p=Math.round((0,O.linear)(i,[a.minLevel,a.maxLevel],[a.minStats[l],a.maxStats[l]])[0]);s[l]=p}else s[l]=a.minStats[l]}),this.addTrustAndPotential(s)}addTrustAndPotential(e){if(this.subject.id.includes("token"))return e;const i=JSON.parse(JSON.stringify(e));return this.includeTrust&&Object.keys(this.subject.trustStats).forEach(a=>{i[a]+=this.subject.trustStats[a]}),this.includePotentials&&this.subject.potentials.forEach(a=>{const s=a.split(" ").filter(l=>""!=l);for(let l=0;l<s.length;l++){const p=s[l],r=s[l+1];null!=r&&(i[p.toLowerCase()]+=parseInt(r))}}),i}parseCustomLevel(){let e=this.customLevel,i=0,a=0;this.subject.statBreakpoints.forEach(s=>{this.customLevel-a>s.maxLevel&&(e=this.customLevel-(s.maxLevel+a),a+=s.maxLevel,i++)}),this.parsedCustomLevel={level:e,elite:i},this.customStats=this.calculateStats(i,e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(M.O))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-stat-table"]],inputs:{subject:"subject"},decls:3,vars:3,consts:[["class","table no-bottom-border",4,"ngIf"],["class","table",3,"ngClass",4,"ngIf"],["class","table","style","border: none","draggable","false",3,"ngClass",4,"ngIf"],[1,"table","no-bottom-border"],["colspan","5",1,"button",3,"ngClass","click"],["colspan","4",1,"button",3,"ngClass","click"],[1,"table",3,"ngClass"],[1,"stat-header"],[3,"ngClass"],["src","assets/icons/stats/hp.webp"],["src","assets/icons/stats/atk.webp"],["src","assets/icons/stats/def.webp"],["src","assets/icons/stats/res.webp"],["src","assets/icons/stats/redeploy.webp"],["src","assets/icons/stats/cost.webp"],["src","assets/icons/stats/blockCount.webp"],["src","assets/icons/stats/attackInterval.webp"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"level-cell"],[1,"elite-img",3,"src"],["draggable","false",1,"table",2,"border","none",3,"ngClass"],[2,"border-top","none"],["draggable","false","type","range","min","1",1,"slider",3,"ngModel","max","ngModelChange"]],template:function(e,i){1&e&&(n.YNc(0,J,7,6,"table",0),n.YNc(1,B,23,8,"table",1),n.YNc(2,j,5,5,"table",2)),2&e&&(n.Q6J("ngIf",i.subject&&!i.isSummon),n.xp6(1),n.Q6J("ngIf",i.subject),n.xp6(1),n.Q6J("ngIf",i.subject&&i.doctor.statSlider))},dependencies:[c.mk,c.sg,c.O5,u.Fj,u.eT,u.JJ,u.On,h.Xz],styles:[".table[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n.table.bottom-margin[_ngcontent-%COMP%] {\n  margin-bottom: 15px;\n}\n.table[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  margin-right: 10px;\n  transform: translateY(-0.5px);\n  width: 25px;\n  height: 25px;\n}\n.table[_ngcontent-%COMP%]   .level-cell[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  height: 30px;\n}\n.table[_ngcontent-%COMP%]   th.button[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td.button[_ngcontent-%COMP%] {\n  background: #2a2929;\n  cursor: pointer;\n}\n.table[_ngcontent-%COMP%]   th.button.selected[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td.button.selected[_ngcontent-%COMP%] {\n  background: var(--blue);\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  text-align: right;\n  white-space: nowrap;\n}\n.table[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  width: 23px;\n  display: inline-block;\n  vertical-align: top;\n}\n.table[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  background: var(--tableFirstHeader);\n}\n.table[_ngcontent-%COMP%]   .opStatHeader[_ngcontent-%COMP%] {\n  width: 125px;\n}"]}),t})();const E=["description"];function $(t,o){1&t&&(n.TgZ(0,"span",10),n._uU(1,"(replaces Defender Expert \u03b1)"),n.qZA())}function G(t,o){1&t&&(n.TgZ(0,"p"),n._uU(1,"-"),n.qZA())}function H(t,o){if(1&t&&n._UZ(0,"ion-img",11),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/elitePhases/",e.requirements.elite,".webp")}}function D(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td")(2,"div",3),n._UZ(3,"ion-img",4),n._uU(4),n.YNc(5,$,2,0,"span",5),n.qZA()(),n.TgZ(6,"td"),n._UZ(7,"div",6,7),n.qZA(),n.TgZ(9,"th"),n.YNc(10,G,2,0,"p",8),n.YNc(11,H,1,1,"ion-img",9),n.qZA()()),2&t){const e=o.$implicit,i=o.index,a=n.oxw();n.xp6(3),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/ui/infrastructure/skill/",e.iconId,".png"),n.xp6(1),n.hij(" ",e.name," "),n.xp6(1),n.Q6J("ngIf","Aurora"==a.operator.name&&1==i),n.xp6(2),n.Q6J("innerHTML",e.description,n.oJD),n.xp6(3),n.Q6J("ngIf",0==e.requirements.elite),n.xp6(1),n.Q6J("ngIf",e.requirements.elite>0)}}let K=(()=>{class t{constructor(){this.hasRefreshed=!1}ngOnInit(){setTimeout(()=>{for(let e=0;e<this.descs._results.length;e++)this.descs._results[e].nativeElement.innerHTML=this.operator.baseSkills[e].description})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-base-skill-table"]],viewQuery:function(e,i){if(1&e&&n.Gf(E,5),2&e){let a;n.iGM(a=n.CRH())&&(i.descs=a)}},inputs:{operator:"operator"},decls:8,vars:1,consts:[[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"name-container"],[1,"skill-icon",3,"src"],["style","margin-left: 10px; color: #e6e6e6",4,"ngIf"],[3,"innerHTML"],["description",""],[4,"ngIf"],["class","elite-img",3,"src",4,"ngIf"],[2,"margin-left","10px","color","#e6e6e6"],[1,"elite-img",3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),n._uU(4,"Base Skills"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Elite Req."),n.qZA()(),n.YNc(7,D,12,6,"tr",2),n.qZA()()),2&e&&(n.xp6(7),n.Q6J("ngForOf",i.operator.baseSkills))},dependencies:[c.sg,c.O5,h.Xz],styles:[".elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  display: inline-block;\n  transform: translateY(3px);\n}\n\n.name-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  text-align: center;\n}\n\n.name-container[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%] {\n  width: 25px;\n  margin-bottom: 10px;\n}\n\n.name-container[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  width: 20px;\n  display: inline-block;\n  transform: translateY(3px);\n}\n\n.name[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 10px;\n  padding: 5px;\n}"]}),t})();var z=g(529),R=g(6874);const X=["opImage"];function V(t,o){1&t&&n._UZ(0,"br")}function W(t,o){if(1&t){const e=n.EpF();n.ynx(0),n.YNc(1,V,1,0,"br",3),n.TgZ(2,"div",4)(3,"div",5)(4,"p"),n._uU(5),n.qZA(),n.TgZ(6,"p"),n._uU(7,"/"),n.qZA(),n.TgZ(8,"p",6),n._uU(9,"Artist: "),n.TgZ(10,"span",7),n._uU(11),n.qZA()()(),n.TgZ(12,"lib-ngx-image-zoom",8,9),n.NdJ("mouseenter",function(){n.CHM(e);const a=n.oxw(2);return n.KtG(a.onHover())}),n.qZA()(),n.BQk()}if(2&t){const e=o.$implicit,i=o.index,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf",i%2==0),n.xp6(4),n.hij(" ",e.name,""),n.xp6(6),n.Oqu(e.artist),n.xp6(1),n.Akn("background: rgb("+a.backgroundBrightness+", "+a.backgroundBrightness+", "+a.backgroundBrightness+")"),n.hYB("thumbImage","",a.baseUrl,"",e.id,".png")("fullImage","",a.baseUrl,"",e.id,".png"),n.Q6J("enableScrollZoom",!0)("magnification",1.05*a.magnificationMultiplier)("minZoomRatio",1.05*a.magnificationMultiplier)("maxZoomRatio",2)}}const nn=function(t){return{"is-tab":t}};function en(t,o){if(1&t&&(n.TgZ(0,"div",1),n.YNc(1,W,14,13,"ng-container",2),n.qZA()),2&t){const e=n.oxw();n.Q6J("ngClass",n.VKq(2,nn,e.isTab)),n.xp6(1),n.Q6J("ngForOf",e.operator.skins)}}let tn=(()=>{class t{constructor(e,i){this.database=e,this.http=i,this.isTab=!1,this.chosenSkin=0,this.magnificationMultiplier=1,this.backgroundBrightness=18,this.loading=!1,this.baseUrl="https://raw.githubusercontent.com/Aceship/Arknight-Images/main/characters/"}ngOnInit(){const e=this.database.specialReserveOps.find(i=>i==this.operator.name);this.defaultOpIconLink=e?this.operator.id:this.operator.id.slice(2,this.operator.id.length),(this.operator.name.includes("Reserve Operator")||e)&&(this.reserveOpImageLink=this.operator.id)}changedSkin(e){this.chosenSkin!=e&&(this.chosenSkin=e,this.loading=!0)}onHover(){this.magnificationMultiplier=2048==this.opImage.fullWidth?.5:1}imageLoaded(){this.loading=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(x.k),n.Y36(z.eN))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-operator-gallery"]],viewQuery:function(e,i){if(1&e&&n.Gf(X,5),2&e){let a;n.iGM(a=n.CRH())&&(i.opImage=a.first)}},inputs:{isTab:"isTab",operator:"operator"},decls:1,vars:1,consts:[["class","gallery",3,"ngClass",4,"ngIf"],[1,"gallery",3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"skin-img-container"],[1,"info-container"],[2,"color","darkgrey"],[2,"color","white"],["zoomMode","hover",1,"img","selected",3,"thumbImage","fullImage","enableScrollZoom","magnification","minZoomRatio","maxZoomRatio","mouseenter"],["opImage",""]],template:function(e,i){1&e&&n.YNc(0,en,2,4,"div",0),2&e&&n.Q6J("ngIf",i.operator)},dependencies:[c.mk,c.sg,c.O5,R.r],styles:[".gallery[_ngcontent-%COMP%] {\n  padding: 20px;\n  width: 100%;\n  margin-bottom: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n\n.skin-img-container[_ngcontent-%COMP%] {\n  text-align: center;\n  margin: auto;\n  display: inline-block;\n  margin-bottom: 20px;\n}\n\n.skin-img-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%] {\n  display: flex;\n  background: var(--hovergrey);\n  justify-content: space-evenly;\n  align-items: center;\n  padding: 10px;\n}\n\n.skin-img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%] {\n  display: none;\n  border: 1px solid #121212;\n}\n\n.skin-img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover {\n  border: 1px solid white;\n}\n\n.skin-img-container[_ngcontent-%COMP%]   .img.selected[_ngcontent-%COMP%] {\n  display: inline-block;\n}"]}),t})();var on=g(805);function an(t,o){if(1&t&&n._UZ(0,"td",7),2&t){const e=n.oxw(4);n.ERl("width","",e.size,"px")("border-width","",e.size/10,"px")}}function sn(t,o){if(1&t&&n._UZ(0,"td",8),2&t){const e=n.oxw(4);n.ERl("width","",e.size,"px")("border-width","",e.size/10,"px")}}function rn(t,o){if(1&t&&n._UZ(0,"td",9),2&t){const e=n.oxw(4);n.ERl("width","",e.size,"px")("border-width","",e.size/10,"px")}}function ln(t,o){if(1&t&&(n.ynx(0),n.YNc(1,an,1,6,"td",4),n.YNc(2,sn,1,6,"td",5),n.YNc(3,rn,1,6,"td",6),n.BQk()),2&t){const e=o.index,i=n.oxw().index,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf","range"==a.squareIs(i,e)),n.xp6(1),n.Q6J("ngIf","empty"==a.squareIs(i,e)),n.xp6(1),n.Q6J("ngIf","start"==a.squareIs(i,e))}}function cn(t,o){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,ln,4,3,"ng-container",3),n.qZA()),2&t){const e=n.oxw(2);n.ERl("height","",e.size,"px"),n.xp6(1),n.Q6J("ngForOf",e.emptyArray(e.grid.maxCols+1))}}function pn(t,o){if(1&t&&(n.TgZ(0,"table",1)(1,"tbody"),n.YNc(2,cn,2,4,"tr",2),n.qZA()()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.emptyArray(e.grid.squares.length))}}let A=(()=>{class t{constructor(e){this.database=e,this.size=20}ngOnInit(){this.grid=this.database.ranges.find(e=>e.id==this.id).grid}squareIs(e,i){if(this.grid.startingSquare.row==e&&this.grid.startingSquare.col==i)return"start";for(let a of this.grid.squares[e])if(a==i)return"range";return"empty"}emptyArray(e){return new Array(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(x.k))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-range-grid"]],inputs:{id:"id",size:"size"},decls:1,vars:1,consts:[["class","range-table",4,"ngIf"],[1,"range-table"],[3,"height",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","square",3,"width","borderWidth",4,"ngIf"],["class","empty-square",3,"width","borderWidth",4,"ngIf"],["class","square start",3,"width","borderWidth",4,"ngIf"],[1,"square"],[1,"empty-square"],[1,"square","start"]],template:function(e,i){1&e&&n.YNc(0,pn,3,1,"table",0),2&e&&n.Q6J("ngIf",null!=i.grid)},dependencies:[c.sg,c.O5],styles:[".square[_ngcontent-%COMP%] {\n  border: solid #a9a9a9;\n}\n.square.start[_ngcontent-%COMP%] {\n  background: #a9a9a9;\n}\n.empty-square[_ngcontent-%COMP%] {\n  border: none;\n}\n.range-table[_ngcontent-%COMP%] {\n  border-spacing: 3px;\n  border-collapse: separate;\n  display: inline-block;\n  vertical-align: top;\n}"]}),t})();const gn=["description"];function _n(t,o){if(1&t&&n._UZ(0,"ion-img",11),2&t){const e=n.oxw().index;n.MGl("src","assets/icons/skillLevels/",e+1,".png")}}function mn(t,o){if(1&t&&n._UZ(0,"ion-img",12),2&t){const e=n.oxw().index;n.MGl("src","assets/icons/skillLevels/",e+1,".png")}}const dn=function(t){return{selected:t}};function un(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"td",8),n.NdJ("click",function(){const s=n.CHM(e).index,l=n.oxw();return n.KtG(l.toggleSkillLevel(s))}),n.YNc(1,_n,1,1,"ion-img",9),n.YNc(2,mn,1,1,"ion-img",10),n.qZA()}if(2&t){const e=o.$implicit,i=o.index,a=n.oxw();n.Q6J("ngClass",n.VKq(3,dn,a.selectedSkillLevels[e])),n.xp6(1),n.Q6J("ngIf",i<=5),n.xp6(1),n.Q6J("ngIf",i>5)}}function fn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"table",13)(1,"tbody")(2,"tr")(3,"td")(4,"input",14),n.NdJ("ngModelChange",function(a){n.CHM(e);const s=n.oxw();return n.KtG(s.sliderLevel=a)})("ngModelChange",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.usingSlider())}),n.qZA()()()()()}if(2&t){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.sliderLevel)("max",9)}}function hn(t,o){if(1&t&&n._UZ(0,"ion-img",25),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/elitePhases/",e.eliteUnlockReq,".webp")}}function xn(t,o){1&t&&(n.TgZ(0,"p"),n._uU(1,"-"),n.qZA())}function bn(t,o){1&t&&(n.ynx(0),n._uU(1,"Instant"),n.BQk())}function Tn(t,o){if(1&t&&n._UZ(0,"img",29),2&t){const e=n.oxw(2).$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png",n.LSH)}}function Cn(t,o){if(1&t&&n._UZ(0,"img",30),2&t){const e=n.oxw(2).$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png",n.LSH)}}function vn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.YNc(2,Tn,1,1,"img",27),n.YNc(3,Cn,1,1,"img",28),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij("",e.value,"s "),n.xp6(1),n.Q6J("ngIf",e.level<=6),n.xp6(1),n.Q6J("ngIf",e.level>=7)}}function kn(t,o){1&t&&(n.ynx(0),n._uU(1,", "),n.BQk())}function Zn(t,o){if(1&t&&(n.TgZ(0,"span"),n.YNc(1,bn,2,0,"ng-container",18),n.YNc(2,vn,4,3,"ng-container",18),n.YNc(3,kn,2,0,"ng-container",18),n.qZA()),2&t){const e=o.$implicit,i=o.index,a=n.oxw(2).$implicit;n.xp6(1),n.Q6J("ngIf",0==e.value),n.xp6(1),n.Q6J("ngIf",e.value>0),n.xp6(1),n.Q6J("ngIf",i<a.durations.length-1)}}function yn(t,o){if(1&t&&(n.TgZ(0,"p",26),n.YNc(1,Zn,4,3,"span",5),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.durations)}}function On(t,o){if(1&t&&n._UZ(0,"img",29),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png",n.LSH)}}function Mn(t,o){if(1&t&&n._UZ(0,"img",30),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png",n.LSH)}}function Pn(t,o){if(1&t&&(n.TgZ(0,"div",33),n._UZ(1,"app-range-grid",34),n.YNc(2,On,1,1,"img",27),n.YNc(3,Mn,1,1,"img",28),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("id",e.id),n.xp6(1),n.Q6J("ngIf",e.level<=6),n.xp6(1),n.Q6J("ngIf",e.level>=7)}}function In(t,o){if(1&t&&(n.TgZ(0,"div",31),n.YNc(1,Pn,4,3,"div",32),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.ranges)}}function An(t,o){if(1&t&&n._UZ(0,"ion-img",29),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png")}}function qn(t,o){if(1&t&&n._UZ(0,"ion-img",30),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png")}}function Un(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"p",35),n._uU(2),n.YNc(3,An,1,1,"ion-img",27),n.YNc(4,qn,1,1,"ion-img",28),n.qZA(),n.BQk()),2&t){const e=o.$implicit;n.xp6(2),n.hij("",e.value," "),n.xp6(1),n.Q6J("ngIf",e.level<=6),n.xp6(1),n.Q6J("ngIf",e.level>=7)}}function wn(t,o){if(1&t&&n._UZ(0,"ion-img",29),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png")}}function Sn(t,o){if(1&t&&n._UZ(0,"ion-img",30),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/skillLevels/",e.level,".png")}}function Jn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"p",35),n._uU(2),n.YNc(3,wn,1,1,"ion-img",27),n.YNc(4,Sn,1,1,"ion-img",28),n.qZA(),n.BQk()),2&t){const e=o.$implicit;n.xp6(2),n.hij("",e.value," "),n.xp6(1),n.Q6J("ngIf",e.level<=6),n.xp6(1),n.Q6J("ngIf",e.level>=7)}}function Qn(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"th"),n._UZ(2,"ion-img",15),n._uU(3),n.qZA(),n.TgZ(4,"td",16),n.YNc(5,hn,1,1,"ion-img",17),n.YNc(6,xn,2,0,"p",18),n.qZA(),n.TgZ(7,"td",19)(8,"p"),n._uU(9),n.qZA(),n.TgZ(10,"p",20),n._uU(11),n.qZA(),n.YNc(12,yn,2,1,"p",21),n._UZ(13,"p",22,23),n.YNc(15,In,2,1,"div",24),n.qZA(),n.TgZ(16,"td"),n.YNc(17,Un,5,3,"ng-container",5),n.qZA(),n.TgZ(18,"td"),n.YNc(19,Jn,5,3,"ng-container",5),n.qZA()()),2&t){const e=o.$implicit;n.xp6(2),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/skills/skill_icon_",e.iconId,".png"),n.xp6(1),n.hij(" ",e.name," "),n.xp6(2),n.Q6J("ngIf",e.eliteUnlockReq>0),n.xp6(1),n.Q6J("ngIf",0==e.eliteUnlockReq),n.xp6(2),n.Gre("special recovery ",e.recoveryType.name.split(" ")[0],""),n.uIk("data-tip",e.recoveryType.tip),n.xp6(1),n.hij(" ",e.recoveryType.name," "),n.xp6(2),n.hij(" ",e.activationType," "),n.xp6(1),n.Q6J("ngIf",-1!=e.durations[0].value),n.xp6(1),n.Q6J("innerHtml",e.description,n.oJD),n.xp6(2),n.Q6J("ngIf",e.ranges.length>0),n.xp6(2),n.Q6J("ngForOf",e.spCosts),n.xp6(2),n.Q6J("ngForOf",e.initialSp)}}function Ln(t,o){1&t&&(n.TgZ(0,"div",36)(1,"p"),n._uU(2,"Slows enemies"),n.qZA()())}let Nn=(()=>{class t{constructor(e){this.doctorService=e,this.objectKeys=Object.keys,this.selectedSkillLevels={0:!0,1:!1,2:!1,3:!1,4:!1,5:!1,6:!0,7:!0,8:!0,9:!0},this.skills=[],this.sliderLevel=0,this.previousStatValues=[]}ngOnInit(){this.doctor=this.doctorService.doctor,this.getSkillDescriptions()}getSkillDescriptions(){let e,i;this.skills=[];for(let a=0;a<10;a++)this.selectedSkillLevels[a]&&null==e&&(e=a),this.selectedSkillLevels[a]&&(i=a);this.operator.skills.forEach(a=>{this.previousStatValues=[];let s={id:a.id,iconId:a.iconId,name:a.name,description:a.description,recoveryType:{name:a.spType,tip:this.getSpTypeTip(a.spType)},eliteUnlockReq:a.eliteUnlockReq,activationType:a.activationType,spCosts:this.getMiscSkillStats(a,"spCost",e,i),initialSp:this.getMiscSkillStats(a,"initialSp",e,i),durations:this.getMiscSkillStats(a,"duration",e,i),ranges:this.getRanges(a,e,i)};s.description=s.description.replace("HP_RECOVERY_PER_SEC","hp_recovery_per_sec"),s.description=s.description.replace("hp_recovery_per_sec_BY_MAX_HP_RATIO","hp_recovery_per_sec_by_max_hp_ratio"),s.description=s.description.replace("ABILITY_RANGE_FORWARD_EXTEND","ability_range_forward_extend"),s.description=this.parseUnnumberedStats(s.description,a),s.description=this.initialParse(a,s.description,e);const l=this.operator.rarity>3?9:6;for(let p=e+1;p<=Math.min(i+1,l);p++)this.selectedSkillLevels[p]&&(s.description=this.continuousParse(a,s.description,p));s.description=this.lastParse(a,s.description,Math.min(i,l)),s.description=this.cleanUpSkillDescription(s.description),this.skills.push(s)}),this.manualEdits(),setTimeout(()=>{for(let a=0;a<this.descs._results.length;a++)this.descs._results[a].nativeElement.innerHTML=this.skills[a].description})}initialParse(e,i,a){return e.levels[a].stats.forEach(s=>{const l=[`${s.name}`,`-${s.name}`,`${s.name}:0%`,`${s.name}:0.0`,`${s.name}:0`,`-${s.name}:0%`,`${s.name}:0.0%`,`${s.name}:s`];this.previousStatValues.push({name:s.name,value:s.value}),i=this.parseDesc(i,s,l,a,"first")}),i}continuousParse(e,i,a){return e.levels[a].stats.forEach(s=>{this.hasRepetition(s)||(i=this.parseDesc(i,s,[`${s.name}~`,`${s.name}%~`,`${s.name}:s~`,`${s.name}+~`],a,"middle"))}),i}lastParse(e,i,a){return e.levels[a].stats.forEach(s=>{if(this.hasRepetition(s))return i=this.replaceWholeWord(i,s.name+"~",""),i=this.replaceWholeWord(i,s.name+"%~",""),void(i=this.replaceWholeWord(i,s.name+":s~",""));i=this.parseDesc(i,s,[`${s.name}~`,`${s.name}%~`,`${s.name}:s~`],a,"last")}),i}parseDesc(e,i,a,s,l){return a.forEach(p=>{let r=`<span class="skill-level"> <img class="level" src="assets/icons/skillLevels/${s+1}.png" /> </span>`;s>5?r=`<span class="skill-level"> <img class="mastery-img" src="assets/icons/skillLevels/${s+1}.png" /> </span>`:0==s&&(r="");let _=1,T="",w="";p.includes("%")?(_=100,T="%"):p.includes(":s")&&(T=":s"),p.includes("+")&&(w="+");let S=(i.value*_).toString();const F=(i.value*_).toFixed(2);switch(F.includes(".00")&&(S=F.slice(0,F.indexOf("."))),l){case"first":e=this.replaceWholeWord(e,p,`${w}${S}${T} ${r} ${i.name}${T}~`);break;case"middle":e=this.replaceWholeWord(e,p,` ${w}(${S}${T} ${r}) ${i.name}${T}~`);break;case"last":e=this.replaceWholeWord(e,p,` ${w}(${S}${T} ${r})`,!0)}}),e}replaceWholeWord(e,i,a,s=!1){const l=e.split(/[\{\} ]/);let p=l.findIndex(_=>_==i);for(;-1!=p;)l[p]=a,p=l.findIndex(_=>_==i);let r="";return l.forEach(_=>{r+=_+" "}),r}cleanUpSkillDescription(e){const i=e.split(/[\: ]/).filter(s=>""!=s);let a="";for(let s=0;s<i.length;s++)"-"==i[s]&&(i[s]=""),"s"==i[s+1]&&(i[s]+="s",i[s+1]="");for(let s=0;s<i.length;s++)a+="</span>."!=i[s+1]&&"</span>;"!=i[s+1]&&"</span>,"!=i[s+1]&&"+"!=i[s]?i[s]+" ":i[s];return a}parseUnnumberedStats(e,i){const a=e.split(" ");for(let l=0;l<a.length;l++){let p=a[l];if("reduces"==p&&(a[l]="reduced"),"moderately"==p||"dramatically"==p||"slightly"==p||"significantly"==p){let r="0%";"Ptilopsis"==this.operator.name&&(r="s"),a[l]=i.levels[0].stats[0].value<0?"by base_attack_time:"+r:"to base_attack_time:"+r}"increases"==p&&a[l-1].includes("negative-effect")&&(a[l]+="Vulcan"==this.operator.name||"Ambriel"==this.operator.name?" by base_attack_time:s":" by base_attack_time:0%"),("Minor"==p||"Moderate"==p||"Significant"==p)&&(a[l]="base_attack_time:s")}let s="";return a.forEach(l=>{s+=l+" "}),s}hasRepetition(e){const i=this.previousStatValues.findIndex(a=>a.name==e.name);return-1!=i&&this.previousStatValues[i].value==e.value||(this.previousStatValues[i].value=e.value,!1)}getRanges(e,i,a){let s=[],l="",p=this.operator.rarity>3?10:7;for(let r=i;r<Math.min(a+1,p);r++)null!=e.levels[r].range&&e.levels[r].range!=l&&(s.push({id:e.levels[r].range,level:r+1}),l=e.levels[r].range);return s}getMiscSkillStats(e,i,a,s){let l=-999,p=[];if(a==s)p.push({value:e.levels[a][i],level:a+1});else{let r=this.operator.rarity>3?10:7;for(let _=a;_<Math.min(s+1,r);_++)if(this.selectedSkillLevels[_]){const T=e.levels[_][i];T!=l&&(p.push({value:T,level:_+1}),l=T)}}return p}toggleSkillLevel(e){this.sliderLevel=0,this.selectedSkillLevels[e]=!this.selectedSkillLevels[e];let i=!0;for(let a=0;a<10;a++)if(this.selectedSkillLevels[a]){i=!1;break}i&&(this.selectedSkillLevels[0]=!0),this.getSkillDescriptions()}clearSkillLevels(){for(let e=0;e<10;e++)this.selectedSkillLevels[e]=!1;this.selectedSkillLevels[0]=!0,this.getSkillDescriptions()}usingSlider(){for(let e=0;e<10;e++)this.selectedSkillLevels[e]=!1;this.selectedSkillLevels[this.sliderLevel]=!0,this.getSkillDescriptions()}getSpTypeTip(e){switch(e){case"Auto Recovery":return"Generates 1 SP per second";case"Defensive Recovery":return"Generates 1 SP when hit";case"Offensive Recovery":return"Generates 1 SP per attack";case"Passive":return"Does not generate SP"}}manualEdits(){if("Mayer"==this.operator.name)for(let e=6;e<10;e++)if(this.selectedSkillLevels[e]){this.skills[0].description+='(Allies on Robotters\' four adjacent tiles also gain the same buff <span class="skill-level"> <img class="mastery-img" src="assets/icons/skillLevels/7.png" /> </span>)';break}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(M.O))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-skill-table"]],viewQuery:function(e,i){if(1&e&&n.Gf(gn,5),2&e){let a;n.iGM(a=n.CRH())&&(i.descs=a)}},inputs:{operator:"operator"},decls:24,vars:3,consts:[[1,"table","connect","header-table","no-bottom-border"],["style","text-align: center",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"text-align","center",3,"click"],["class","table","style","margin-bottom: 0px","draggable","false",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["op",""],["pTemplate",""],[2,"text-align","center",3,"ngClass","click"],["class","level button",3,"src",4,"ngIf"],["class","mastery-img button",3,"src",4,"ngIf"],[1,"level","button",3,"src"],[1,"mastery-img","button",3,"src"],["draggable","false",1,"table",2,"margin-bottom","0px"],["draggable","false","type","range","min","0",1,"slider",3,"ngModel","max","ngModelChange"],[1,"skill-img",3,"src"],[1,"elite-unlock-req-cell"],["class","elite-img",3,"src",4,"ngIf"],[4,"ngIf"],[1,"skill-description"],[1,"activation"],["class","duration",4,"ngIf"],[1,"skill-description",3,"innerHtml"],["description",""],["class","range-container",4,"ngIf"],[1,"elite-img",3,"src"],[1,"duration"],["class","level",3,"src",4,"ngIf"],["class","mastery-img",3,"src",4,"ngIf"],[1,"level",3,"src"],[1,"mastery-img",3,"src"],[1,"range-container"],["class","range",4,"ngFor","ngForOf"],[1,"range"],[3,"id"],[1,"flex-container"],[2,"background","black","padding","10px"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr"),n.YNc(3,un,3,5,"td",1),n.TgZ(4,"td",2),n.NdJ("click",function(){return i.clearSkillLevels()}),n._uU(5," Clear "),n.qZA()()()(),n.YNc(6,fn,5,2,"table",3),n.TgZ(7,"table",4)(8,"tbody")(9,"tr")(10,"th"),n._uU(11," Skill "),n.qZA(),n.TgZ(12,"th"),n._uU(13," Elite Req. "),n.qZA(),n.TgZ(14,"th"),n._uU(15," Skill Description "),n.qZA(),n.TgZ(16,"th"),n._uU(17," SP Cost "),n.qZA(),n.TgZ(18,"th"),n._uU(19," Initial SP "),n.qZA()(),n.YNc(20,Qn,20,15,"tr",5),n.qZA()(),n.TgZ(21,"p-overlayPanel",null,6),n.YNc(23,Ln,3,0,"ng-template",7),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngForOf",i.objectKeys(i.selectedSkillLevels)),n.xp6(3),n.Q6J("ngIf",i.operator&&i.doctor.skillSlider),n.xp6(14),n.Q6J("ngForOf",i.skills))},dependencies:[c.mk,c.sg,c.O5,u.Fj,u.eT,u.JJ,u.On,h.Xz,on.jx,A],styles:["p[_ngcontent-%COMP%] {\n  margin: 0;\n}\n\n.header-table[_ngcontent-%COMP%] {\n  table-layout: fixed;\n  cursor: pointer;\n}\n\n.header-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover {\n  background: var(--hovergrey);\n}\n\n.header-table[_ngcontent-%COMP%]   td.selected[_ngcontent-%COMP%] {\n  background: var(--blue);\n}\n\n.mastery-img[_ngcontent-%COMP%] {\n  width: 15px;\n  display: inline-block;\n}\n\n.mastery-img.button[_ngcontent-%COMP%] {\n  margin: auto;\n}\n\n.level[_ngcontent-%COMP%] {\n  width: 7px;\n  transform: translateY(-1px);\n  margin-left: 4px;\n  display: inline-block;\n}\n\n.level.button[_ngcontent-%COMP%] {\n  margin: auto;\n}\n\n.elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  display: inline-block;\n}\n\n.elite-unlock-req-cell[_ngcontent-%COMP%] {\n  text-align: center;\n}\n\n.skill-description[_ngcontent-%COMP%] {\n  vertical-align: top;\n}\n\n.skill-description[_ngcontent-%COMP%]   .recovery[_ngcontent-%COMP%] {\n  display: inline-block;\n  padding: 5px;\n  border-radius: 3px;\n  font-size: 14px;\n}\n\n.skill-description[_ngcontent-%COMP%]   .recovery.Defensive[_ngcontent-%COMP%] {\n  background: #d99900;\n}\n\n.skill-description[_ngcontent-%COMP%]   .recovery.Offensive[_ngcontent-%COMP%] {\n  background: #FC793E;\n}\n\n.skill-description[_ngcontent-%COMP%]   .recovery.Auto[_ngcontent-%COMP%] {\n  background: #7cac19;\n}\n\n.skill-description[_ngcontent-%COMP%]   .recovery.Passive[_ngcontent-%COMP%] {\n  background: #737373;\n}\n\n.skill-description[_ngcontent-%COMP%]   .activation[_ngcontent-%COMP%] {\n  background: #737373;\n  display: inline-block;\n  padding: 5px;\n  border-radius: 3px;\n  font-size: 14px;\n}\n\n.skill-description[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%] {\n  display: inline-block;\n  background: #545454;\n  padding: 5px;\n  border-radius: 3px;\n  font-size: 14px;\n}\n\n.skill-description[_ngcontent-%COMP%]   .mastery-img[_ngcontent-%COMP%] {\n  width: 12px;\n  display: inline-block;\n  transform: scale(1.25);\n}\n\n.range-container[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.range-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  margin-right: 20px;\n}\n\n.range-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   app-range-grid[_ngcontent-%COMP%] {\n  padding-right: 5px;\n}\n\n.skill-description[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.skill-img[_ngcontent-%COMP%] {\n  width: 40px;\n  height: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n}"]}),t})();function Fn(t,o){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.key," ")}}const Yn=function(t){return{basic:t}};function Rn(t,o){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,Fn,2,1,"th",3),n._UZ(2,"td",4),n.qZA()),2&t){const e=o.$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",e.key),n.xp6(1),n.Q6J("innerHTML",e.value,n.oJD)("ngClass",n.VKq(4,Yn,"basic"==i.entry)),n.uIk("colspan",i.finalColSpans)}}let Bn=(()=>{class t{constructor(){this.finalColSpans=1e3,this.basicInfo=[{key:"",value:""}]}ngOnInit(){let e=!0,i="",a=!1,s=this.operator.profileEntries[0].description.split(/[\[\]\n ]/);"physical"==this.entry&&(s=this.operator.profileEntries[1].description.split(/[\[\]\n ]/));const l=s.findIndex(_=>"Physical"==_),p=s.findIndex(_=>"Strength"==_);null!=l&&null!=p&&s.splice(p+1,0,"");const r=s.findIndex(_=>"Assimilation"==_);for(null!=r&&s.splice(r+1,0,"");""==s[0];)s.shift();s.forEach(_=>{if(""==_){if(a)return;if("Infection Status"==this.basicInfo[this.basicInfo.length-1].key)return void(i+="<br>");e=!e,i=i.slice(0,i.length-1),e?(this.basicInfo[this.basicInfo.length-1].value=i,this.basicInfo.push({})):this.basicInfo[this.basicInfo.length-1].key=i,i="",a=!0}else i+=_+" ",a=!1}),this.basicInfo[this.basicInfo.length-1].value=i,null==this.basicInfo[this.basicInfo.length-1].key&&(this.finalColSpans=2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-profile-info-table"]],inputs:{operator:"operator",entry:"entry"},decls:6,vars:2,consts:[[1,"table"],["colspan","2",1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"innerHTML","ngClass"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),n._uU(4),n.qZA()(),n.YNc(5,Rn,3,6,"tr",2),n.qZA()()),2&e&&(n.xp6(4),n.Oqu("basic"==i.entry?"Basic Info":"Physical Exam"),n.xp6(1),n.Q6J("ngForOf",i.basicInfo))},dependencies:[c.mk,c.sg,c.O5],styles:["table[_ngcontent-%COMP%] {\n  border: none;\n  height: 100%;\n  max-width: 400px;\n}\ntable[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] {\n  text-align: center;\n  height: 35px;\n}\ntable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  text-align: left;\n}"]}),t})();function jn(t,o){if(1&t&&(n.TgZ(0,"span",6),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.hij(" (",e.unlockRequirement.value," Trust) ")}}function En(t,o){1&t&&(n.TgZ(0,"span",6),n._uU(1," (Elite 2) "),n.qZA())}function $n(t,o){if(1&t&&(n.TgZ(0,"table",3)(1,"tbody")(2,"tr")(3,"th"),n._uU(4),n.YNc(5,jn,2,1,"span",4),n.YNc(6,En,2,0,"span",4),n.qZA()(),n.TgZ(7,"tr"),n._UZ(8,"td",5),n.qZA()()()),2&t){const e=n.oxw().$implicit;n.xp6(4),n.hij(" ",e.name," "),n.xp6(1),n.Q6J("ngIf",2==e.unlockRequirement.type),n.xp6(1),n.Q6J("ngIf",1==e.unlockRequirement.type),n.xp6(2),n.Q6J("innerHTML",e.description,n.oJD)}}function Gn(t,o){if(1&t&&(n.ynx(0),n.YNc(1,$n,9,4,"table",2),n.BQk()),2&t){const e=o.index;n.xp6(1),n.Q6J("ngIf",e>2)}}function Hn(t,o){if(1&t&&(n.TgZ(0,"table",3)(1,"tbody")(2,"tr")(3,"th"),n._uU(4),n.TgZ(5,"span",6),n._uU(6,"(Elite 2, ORIGINAL Module)"),n.qZA()()(),n.TgZ(7,"tr"),n._UZ(8,"td",5),n.qZA()()()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",e.operator.modules[0].name," "),n.xp6(4),n.Q6J("innerHTML",e.operator.modules[0].description,n.oJD)}}let Dn=(()=>{class t{constructor(){}ngOnInit(){let e=0;this.operator.profileEntries.forEach(i=>{if(e>2){const a=new RegExp("\n","g");i.description=i.description.replace(a,"<br>")}e++})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-profile-info-text-entries"]],inputs:{operator:"operator"},decls:3,vars:2,consts:[[1,"profile-text-entry-container"],[4,"ngFor","ngForOf"],["class","table profile-text-entry",4,"ngIf"],[1,"table","profile-text-entry"],["style","color: #c3c2c2",4,"ngIf"],[3,"innerHTML"],[2,"color","#c3c2c2"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Gn,2,1,"ng-container",1),n.YNc(2,Hn,9,2,"table",2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",i.operator.profileEntries),n.xp6(1),n.Q6J("ngIf",i.operator.modules.length>0))},dependencies:[c.sg,c.O5],styles:[".profile-text-entry-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n  margin-left: 10px;\n  margin-bottom: 100px;\n}\n\n.profile-text-entry[_ngcontent-%COMP%] {\n  border: none;\n}\n\n.profile-text-entry[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .profile-text-entry[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  border: none;\n}"]}),t})(),Kn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-profile-tab"]],inputs:{operator:"operator"},decls:25,vars:7,consts:[[1,"profile"],["entry","basic",2,"margin-right","5px","margin-bottom","15px",3,"operator"],["entry","physical",2,"margin-left","5px","margin-right","5px","margin-bottom","15px",3,"operator"],[1,"recruitAndTokenContainer"],[1,"table"],[1,"group-img-container"],[1,"group-img",3,"src"],[3,"operator"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"app-profile-info-table",1)(2,"app-profile-info-table",2),n.TgZ(3,"div",3)(4,"table",4)(5,"tbody")(6,"tr")(7,"th"),n._uU(8,"Recruitment Contract"),n.qZA()(),n.TgZ(9,"tr")(10,"td"),n._uU(11),n.qZA()()()(),n.TgZ(12,"table",4)(13,"tbody")(14,"tr")(15,"th"),n._uU(16,"Potential Token"),n.qZA()(),n.TgZ(17,"tr")(18,"td"),n._uU(19),n.qZA()()()()(),n.TgZ(20,"div",5),n._UZ(21,"ion-img",6),n.TgZ(22,"p"),n._uU(23),n.qZA()()(),n._UZ(24,"app-profile-info-text-entries",7)),2&e&&(n.xp6(1),n.Q6J("operator",i.operator),n.xp6(1),n.Q6J("operator",i.operator),n.xp6(9),n.hij(" ",i.operator.recruitmentContract," "),n.xp6(8),n.hij(" ",i.operator.potentialToken," "),n.xp6(2),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/factions/logo_",i.operator.group.id,".png"),n.xp6(2),n.hij(" ",i.operator.group.name," "),n.xp6(1),n.Q6J("operator",i.operator))},dependencies:[h.Xz,Bn,Dn],styles:[".profile[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-right: 10px;\n  margin-bottom: 100px;\n  margin-bottom: 0px;\n  display: flex;\n  justify-content: center;\n}\n\n.recruitAndTokenContainer[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  margin-left: 5px;\n}\n\n.recruitAndTokenContainer[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%] {\n  height: 100%;\n}\n\n.recruitAndTokenContainer[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  height: 35px;\n}\n\n.group-img-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: space-between;\n}\n\n.group-img-container[_ngcontent-%COMP%]   .group-img[_ngcontent-%COMP%] {\n  padding: 10px;\n  width: 300px;\n}\n\n.group-img-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  font-weight: bold;\n  margin-bottom: 10px;\n}"]}),t})();const zn=["description"];function Xn(t,o){1&t&&(n.ynx(0),n._uU(1,","),n.BQk())}function Vn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.YNc(2,Xn,2,0,"ng-container",15),n.BQk()),2&t){const e=o.$implicit,i=o.index,a=n.oxw();n.xp6(1),n.hij(" ",e,""),n.xp6(1),n.Q6J("ngIf",i<a.operator.tags.length-1)}}function Wn(t,o){if(1&t&&(n.TgZ(0,"div",7),n._UZ(1,"ion-img",16)(2,"app-range-grid",9),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("id",e.operator.statBreakpoints[1].rangeId)}}function ne(t,o){if(1&t&&(n.TgZ(0,"div",7),n._UZ(1,"ion-img",17)(2,"app-range-grid",9),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("id",e.operator.statBreakpoints[2].rangeId)}}let ee=(()=>{class t{constructor(e){this.opAvatarService=e}ngOnInit(){this.operatorImageLink=this.opAvatarService.getAvatar(this.operator),setTimeout(()=>{this.desc.nativeElement.innerHTML=this.operator.trait})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Z.j))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-operator-briefer"]],viewQuery:function(e,i){if(1&e&&n.Gf(zn,5),2&e){let a;n.iGM(a=n.CRH())&&(i.desc=a.first)}},inputs:{operator:"operator"},decls:41,vars:23,consts:[[1,"basic-info-card"],[1,"left-side"],[1,"image",3,"src"],[1,"class-img",3,"src"],[1,"rarity-stars",3,"src"],[4,"ngFor","ngForOf"],[1,"right-side"],[1,"range-container"],["src","assets/icons/elitePhases/0.webp",1,"elite-img"],[2,"float","right",3,"id"],["class","range-container",4,"ngIf"],[1,"table"],[3,"src"],[1,"trait-description",3,"innerHTML"],["description",""],[4,"ngIf"],["src","assets/icons/elitePhases/1.webp",1,"elite-img"],["src","assets/icons/elitePhases/2.webp",1,"elite-img"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"div",1),n._UZ(2,"ion-img",2),n.TgZ(3,"tbody")(4,"tr")(5,"th"),n._uU(6,"Class"),n.qZA(),n.TgZ(7,"td"),n._uU(8),n._UZ(9,"ion-img",3),n.qZA()(),n.TgZ(10,"tr")(11,"th"),n._uU(12,"Position"),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA()(),n.TgZ(15,"tr")(16,"th"),n._uU(17,"Rarity"),n.qZA(),n.TgZ(18,"td"),n._uU(19),n._UZ(20,"ion-img",4),n.qZA()(),n.TgZ(21,"tr")(22,"th"),n._uU(23,"Tags"),n.qZA(),n.TgZ(24,"td"),n.YNc(25,Vn,3,2,"ng-container",5),n.qZA()()()(),n.TgZ(26,"div",6)(27,"div",7),n._UZ(28,"ion-img",8)(29,"app-range-grid",9),n.qZA(),n.YNc(30,Wn,3,1,"div",10),n.YNc(31,ne,3,1,"div",10),n.qZA()(),n.TgZ(32,"table",11)(33,"tbody")(34,"tr")(35,"th"),n._uU(36),n._UZ(37,"ion-img",12)(38,"ion-img",12),n.qZA(),n._UZ(39,"td",13,14),n.qZA()()()),2&e&&(n.xp6(2),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/avatars/",i.operatorImageLink,".png"),n.xp6(6),n.hij(" ",i.operator.class," "),n.xp6(1),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/classes/class_",i.operator.class.toLowerCase(),".png"),n.xp6(5),n.Oqu(i.operator.position),n.xp6(5),n.hij(" ",i.operator.rarity," "),n.xp6(1),n.MGl("src","assets/icons/rarityStars/",i.operator.rarity,".png"),n.xp6(5),n.Q6J("ngForOf",i.operator.tags),n.xp6(4),n.Q6J("id",i.operator.statBreakpoints[0].rangeId),n.xp6(1),n.Q6J("ngIf",i.operator.rarity>2),n.xp6(1),n.Q6J("ngIf","Frostleaf"==i.operator.name),n.xp6(4),n.Gre("branch-header ",i.operator.originalBranch,""),n.xp6(1),n.hij(" ",i.operator.branch," "),n.xp6(1),n.Gre("class-img branch ",i.operator.originalBranch,""),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/ui/subclass/sub_",i.operator.originalBranch,"_icon.png"),n.xp6(1),n.Gre("class-img invisible ",i.operator.originalBranch,""),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/ui/subclass/sub_",i.operator.originalBranch,"_icon.png"),n.xp6(1),n.Q6J("innerHTML",i.operator.trait,n.oJD))},dependencies:[c.sg,c.O5,h.Xz,A],styles:[".basic-info-card[_ngcontent-%COMP%] {\n  padding: 10px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: space-between;\n  border-bottom: none;\n}\n.basic-info-card[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  padding-right: 10px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  text-align: right;\n  border-right: 1px solid white;\n}\n.basic-info-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.basic-info-card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%] {\n  width: 100px;\n  margin: 5px;\n}\n.basic-info-card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: top;\n}\n.basic-info-card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n.basic-info-card[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  margin-right: 5px;\n}\n.basic-info-card[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%] {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 10px;\n}\n.class-img[_ngcontent-%COMP%] {\n  width: 25px;\n  display: inline-block;\n  position: absolute;\n  transform: translate(5px, -4px);\n}\n.class-img.branch[_ngcontent-%COMP%] {\n  width: 20px;\n  transform: translate(5px, -0.5px);\n}\n.class-img.branch.funnel[_ngcontent-%COMP%] {\n  transform: translate(4px, 0px);\n}\n.class-img.branch.healer[_ngcontent-%COMP%], .class-img.branch.guardian[_ngcontent-%COMP%] {\n  transform: translate(8px, -2px);\n}\n.class-img.branch.fearless[_ngcontent-%COMP%] {\n  transform: translate(8px, 0px);\n}\n.class-img.branch.splashcaster[_ngcontent-%COMP%] {\n  transform: translate(4px, 0px);\n}\n.class-img.branch.protector[_ngcontent-%COMP%], .class-img.branch.duelist[_ngcontent-%COMP%] {\n  transform: translate(8px, -4px);\n}\n.class-img.branch.pusher[_ngcontent-%COMP%] {\n  transform: translate(8px, 3px);\n}\n.class-img.invisible[_ngcontent-%COMP%] {\n  position: relative;\n  visibility: hidden;\n  height: 0px;\n  width: default;\n}\n.branch-header[_ngcontent-%COMP%] {\n  width: 20%;\n}\n.branch-header.splashcaster[_ngcontent-%COMP%], .branch-header.reaperrange[_ngcontent-%COMP%], .branch-header.phalanx[_ngcontent-%COMP%] {\n  white-space: nowrap;\n}\n.rarity-stars[_ngcontent-%COMP%] {\n  height: 25px;\n  display: inline-block;\n  position: absolute;\n  transform: translate(5px, -4px);\n}"]}),t})();const te=["audio"],ie=["slider"];function oe(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"ion-icon",6),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2);return n.KtG(a.play())}),n.qZA()}}function ae(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"ion-icon",7),n.NdJ("click",function(){n.CHM(e);const a=n.oxw(2);return n.KtG(a.pause())}),n.qZA()}}function se(t,o){if(1&t){const e=n.EpF();n.ynx(0),n.YNc(1,oe,1,0,"ion-icon",2),n.YNc(2,ae,1,0,"ion-icon",3),n.TgZ(3,"p"),n._uU(4),n.qZA(),n.TgZ(5,"input",4,5),n.NdJ("ngModelChange",function(a){n.CHM(e);const s=n.oxw();return n.KtG(s.audio.nativeElement.currentTime=a)})("ngModelChange",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.getTime())}),n.qZA(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.audio.nativeElement.paused),n.xp6(1),n.Q6J("ngIf",!e.audio.nativeElement.paused),n.xp6(2),n.hij(" ",e.timer," "),n.xp6(1),n.Q6J("max",e.audio.nativeElement.duration)("value",e.audio.nativeElement.currentTime)("ngModel",e.audio.nativeElement.currentTime)}}function re(t,o){if(1&t&&(n.TgZ(0,"audio",null,8),n._UZ(2,"source",9),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("src",e.src,n.LSH)}}let le=(()=>{class t{constructor(){this.src="/assets/voice_placeholder.mp3",this.timer="?:?? / ?:??"}ngAfterViewInit(){const e=setInterval(()=>{if(null!=this.src){this.audio.src=this.src;const i=setInterval(()=>{this.audio.nativeElement.duration>0&&(this.getTime(),clearInterval(i))});clearInterval(e)}})}play(){this.audio.nativeElement.play(),this.elapseInterval=setInterval(()=>{this.getTime(),this.audio.nativeElement.ended&&clearInterval(this.elapseInterval)})}pause(){clearInterval(this.elapseInterval),this.audio.nativeElement.pause()}getTime(){let i=this.getSecondsFormat(this.audio.nativeElement.duration),a=this.getSecondsFormat(this.audio.nativeElement.currentTime);this.timer="0:"+a+" / 0:"+i}getSecondsFormat(e){return e<10?"0"+Math.floor(e):Math.floor(e).toString()}ngOnDestroy(){this.audio.src=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-audio-player"]],viewQuery:function(e,i){if(1&e&&(n.Gf(te,5),n.Gf(ie,5)),2&e){let a;n.iGM(a=n.CRH())&&(i.audio=a.first),n.iGM(a=n.CRH())&&(i.slider=a.first)}},inputs:{src:"src"},decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","playPause","name","play-outline",3,"click",4,"ngIf"],["class","playPause","name","pause-outline",3,"click",4,"ngIf"],["type","range","step","0.01",1,"slider",3,"max","value","ngModel","ngModelChange"],["slider",""],["name","play-outline",1,"playPause",3,"click"],["name","pause-outline",1,"playPause",3,"click"],["audio",""],[3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,se,7,6,"ng-container",1),n.YNc(2,re,3,1,"audio",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",null!=i.audio),n.xp6(1),n.Q6J("ngIf",null!=i.src))},dependencies:[c.O5,u.Fj,u.eT,u.JJ,u.On,h.gu],styles:[".container[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  background: #1d1d1d;\n  padding: 5px;\n  height: 35px;\n}\n.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-left: 10px;\n  margin-right: 10px;\n  white-space: nowrap;\n}\n.playPause[_ngcontent-%COMP%] {\n  cursor: pointer;\n  font-size: 25px;\n}\n.slider[_ngcontent-%COMP%] {\n  background: black;\n}\n.slider[_ngcontent-%COMP%]::-webkit-slider-thumb {\n  background: white;\n}"]}),t})();function ce(t,o){1&t&&(n.ynx(0),n._UZ(1,"br")(2,"br"),n.BQk())}function pe(t,o){if(1&t&&(n.TgZ(0,"div",7)(1,"p",8),n._uU(2,"CN: "),n.qZA(),n._UZ(3,"app-audio-player",9),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.hYB("src","https://github.com/Aceship/Arknight-voices/blob/main/voice_cn/",i.charId,"/CN_",e.fileIndex,".mp3?raw=true")}}function ge(t,o){if(1&t&&(n.TgZ(0,"div",7)(1,"p",8),n._uU(2,"JP: "),n.qZA(),n._UZ(3,"app-audio-player",9),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.hYB("src","https://github.com/Aceship/Arknight-voices/blob/main/voice/",i.charId,"/CN_",e.fileIndex,".mp3?raw=true")}}function _e(t,o){if(1&t&&(n.TgZ(0,"div",7)(1,"p",8),n._uU(2,"EN: "),n.qZA(),n._UZ(3,"app-audio-player",9),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.hYB("src","https://github.com/Aceship/Arknight-voices/blob/main/voice_en/",i.charId,"/CN_",e.fileIndex,".mp3?raw=true")}}function me(t,o){if(1&t&&(n.TgZ(0,"div",7)(1,"p",8),n._uU(2,"KR: "),n.qZA(),n._UZ(3,"app-audio-player",9),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.hYB("src","https://github.com/Aceship/Arknight-voices/blob/main/voice_kr/",i.charId,"/CN_",e.fileIndex,".mp3?raw=true")}}function de(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"th",3),n._uU(2),n.qZA(),n.TgZ(3,"td",4),n._uU(4),n.YNc(5,ce,3,0,"ng-container",5),n.TgZ(6,"div",0),n.YNc(7,pe,4,2,"div",6),n.YNc(8,ge,4,2,"div",6),n.YNc(9,_e,4,2,"div",6),n.YNc(10,me,4,2,"div",6),n.qZA()()()),2&t){const e=o.$implicit,i=n.oxw();n.xp6(2),n.hij(" ",e.name," "),n.xp6(2),n.hij(" ",e.text," "),n.xp6(1),n.Q6J("ngIf",i.operator.voiceActors.CN||i.operator.voiceActors.JP||i.operator.voiceActors.EN||i.operator.voiceActors.KR),n.xp6(2),n.Q6J("ngIf",i.operator.voiceActors.CN&&i.loadedLanguages[0]),n.xp6(1),n.Q6J("ngIf",i.operator.voiceActors.JP&&i.loadedLanguages[1]),n.xp6(1),n.Q6J("ngIf",i.operator.voiceActors.EN&&i.loadedLanguages[2]),n.xp6(1),n.Q6J("ngIf",i.operator.voiceActors.KR&&i.loadedLanguages[3])}}let ue=(()=>{class t{constructor(){this.loadedLanguages=[!1,!1,!1,!1]}ngOnInit(){let e=0;setInterval(()=>{this.loadedLanguages[e]=!0,e++},250),this.charId=this.operator.id.slice(2,this.operator.id.length)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dialogue-table"]],inputs:{operator:"operator"},decls:4,vars:1,consts:[[2,"display","flex"],[1,"table"],[4,"ngFor","ngForOf"],[2,"background","var(--tableFirstHeader)"],[2,"margin-bottom","10px"],[4,"ngIf"],["class","audio",4,"ngIf"],[1,"audio"],[2,"margin-right","2px"],[3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"table",1)(2,"tbody"),n.YNc(3,de,11,7,"tr",2),n.qZA()()()),2&e&&(n.xp6(3),n.Q6J("ngForOf",i.operator.dialogues))},dependencies:[c.sg,c.O5,le],styles:["table[_ngcontent-%COMP%] {\n  margin-left: 10px;\n  margin-right: 10px;\n}\ntable[_ngcontent-%COMP%]   .audio[_ngcontent-%COMP%] {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 10px;\n}"]}),t})();var N=g(9980);function fe(t,o){if(1&t&&(n.TgZ(0,"div",11),n._UZ(1,"p",12)(2,"app-range-grid",13),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("innerHTML",e.trait,n.oJD)}}function he(t,o){if(1&t&&n._UZ(0,"p",14),2&t){const e=n.oxw(2);n.Q6J("innerHTML",e.trait,n.oJD)}}function xe(t,o){if(1&t&&(n.TgZ(0,"table",2)(1,"tbody")(2,"tr")(3,"th",3),n._uU(4," Module "),n.qZA(),n.TgZ(5,"th"),n._uU(6," Unlock Requirements "),n.qZA()(),n.TgZ(7,"tr")(8,"td")(9,"div",4),n._UZ(10,"ion-img",5),n.TgZ(11,"p"),n._uU(12),n.qZA()()(),n.TgZ(13,"td"),n.YNc(14,fe,3,1,"div",6),n.YNc(15,he,1,1,"p",7),n.qZA(),n.TgZ(16,"td")(17,"div",8),n._UZ(18,"ion-img",9),n.TgZ(19,"p"),n._uU(20,"Lv 60"),n.qZA()(),n.TgZ(21,"p",10),n._uU(22,"100 Trust"),n.qZA()()()()()),2&t){const e=n.oxw();n.xp6(10),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/equip/icon/",e.operator.modules[e.moduleIndex].id,".png"),n.xp6(2),n.Oqu(e.operator.modules[e.moduleIndex].name),n.xp6(2),n.Q6J("ngIf","Dusk"==e.operator.name),n.xp6(1),n.Q6J("ngIf","Dusk"!=e.operator.name)}}function be(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td",19),n._uU(2),n.qZA()()),2&t){const e=o.$implicit;n.xp6(2),n.Oqu(e.description)}}function Te(t,o){if(1&t&&(n.ynx(0),n._UZ(1,"ion-img",5),n._uU(2),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.MGl("src","assets/icons/stats/",e.key,".webp"),n.xp6(1),n.hij(" +",e.value," ")}}function Ce(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ASPD +",e.value," ")}}function ve(t,o){if(1&t&&(n.TgZ(0,"div",23),n.YNc(1,Te,3,2,"ng-container",21),n.YNc(2,Ce,2,1,"ng-container",21),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("ngIf","attack_speed"!=e.key),n.xp6(1),n.Q6J("ngIf","attack_speed"==e.key)}}function ke(t,o){if(1&t&&(n.ynx(0),n._UZ(1,"ion-img",5),n._uU(2),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.MGl("src","assets/icons/stats/",e.key,".webp"),n.xp6(1),n.hij(" ",e.value," ")}}function Ze(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ASPD ",e.value," ")}}const ye=function(t){return{"no-margin":t}};function Oe(t,o){if(1&t&&(n.TgZ(0,"div",27),n.YNc(1,ke,3,2,"ng-container",21),n.YNc(2,Ze,2,1,"ng-container",21),n.qZA()),2&t){const e=o.$implicit;n.Q6J("ngClass",n.VKq(3,ye,"max_deck_stack_cnt"==e.key||"max_deploy_count"==e.key)),n.xp6(1),n.Q6J("ngIf","max_deck_stack_cnt"!=e.key&&"max_deploy_count"!=e.key&&"attack_speed"!=e.key),n.xp6(1),n.Q6J("ngIf","attack_speed"==e.key)}}function Me(t,o){if(1&t&&(n.TgZ(0,"div",25)(1,"p",11),n._uU(2),n.qZA(),n.YNc(3,Oe,3,5,"div",26),n.qZA()),2&t){const e=o.$implicit,i=o.index,a=n.oxw(4);n.xp6(2),n.Oqu(a.operator.summons[i].name),n.xp6(1),n.Q6J("ngForOf",e)}}function Pe(t,o){if(1&t&&(n.ynx(0),n.YNc(1,Me,4,2,"div",24),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.summonStats)}}function Ie(t,o){1&t&&n._UZ(0,"app-item-component",28),2&t&&n.Q6J("item",o.$implicit)}function Ae(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n.YNc(4,ve,3,2,"div",20),n.YNc(5,Pe,2,1,"ng-container",21),n.qZA(),n.TgZ(6,"th"),n.YNc(7,Ie,1,1,"app-item-component",22),n.qZA()()),2&t){const e=o.$implicit,i=o.index;n.xp6(2),n.hij(" ",i+1," "),n.xp6(2),n.Q6J("ngForOf",e.stats),n.xp6(1),n.Q6J("ngIf",null!=e.summonStats),n.xp6(2),n.Q6J("ngForOf",e.itemCosts)}}function qe(t,o){if(1&t&&(n.TgZ(0,"table",15)(1,"tbody")(2,"tr")(3,"th",16),n._uU(4," Unlock Missions "),n.qZA()(),n.YNc(5,be,3,1,"tr",17),n.TgZ(6,"tr")(7,"th",18),n._uU(8," Level "),n.qZA(),n.TgZ(9,"th",18),n._uU(10," Stat "),n.qZA(),n.TgZ(11,"th",18),n._uU(12," Unlock Reqs. "),n.qZA()(),n.YNc(13,Ae,8,4,"tr",17),n.qZA()()),2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngForOf",e.operator.modules[e.moduleIndex].missions),n.xp6(8),n.Q6J("ngForOf",e.operator.modules[e.moduleIndex].levels)}}let Ue=(()=>{class t{constructor(){}ngOnInit(){if(0==this.moduleIndex)return;const e=this.operator.modules[this.moduleIndex];e.trait&&(this.trait=e.trait,e.traitStats.forEach(i=>{[`+{${i.key}} `,`{${i.key}:0%} `,`{${i.key}} `].forEach(s=>{let l=1,p="";s.includes("%")&&(l=100,p="%"),this.trait=this.trait.replace(s,`${Math.round(i.value*l)}${p}`)})}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-module-table"]],inputs:{operator:"operator",moduleIndex:"moduleIndex"},decls:2,vars:2,consts:[["class","table no-border","style","margin-bottom: 0px; border-bottom: none",4,"ngIf"],["class","table","style","margin-bottom: 0px;",4,"ngIf"],[1,"table","no-border",2,"margin-bottom","0px","border-bottom","none"],["colspan","2"],[1,"module-header"],[3,"src"],["style","text-align: center",4,"ngIf"],["style","margin-left: 5px; margin-right: 5px",3,"innerHTML",4,"ngIf"],[1,"unlock-reqs-elite-and-level"],["src","assets/icons/elitePhases/2.webp",1,"elite-img"],[1,"trust"],[2,"text-align","center"],[2,"margin-bottom","10px",3,"innerHTML"],["id","3-1"],[2,"margin-left","5px","margin-right","5px",3,"innerHTML"],[1,"table",2,"margin-bottom","0px"],["colspan","3",1,"header"],[4,"ngFor","ngForOf"],[1,"header"],["colspan","3"],["class","stat",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"item",4,"ngFor","ngForOf"],[1,"stat"],["style","margin-top: 10px",4,"ngFor","ngForOf"],[2,"margin-top","10px"],["class","stat",3,"ngClass",4,"ngFor","ngForOf"],[1,"stat",3,"ngClass"],[3,"item"]],template:function(e,i){1&e&&(n.YNc(0,xe,23,4,"table",0),n.YNc(1,qe,14,2,"table",1)),2&e&&(n.Q6J("ngIf",i.moduleIndex>0),n.xp6(1),n.Q6J("ngIf",i.moduleIndex>0))},dependencies:[c.mk,c.sg,c.O5,h.Xz,N.P,A],styles:[".module-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.module-header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  max-width: 100px;\n  padding: 10px;\n  padding-bottom: 10px;\n}\n.module-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  text-align: center;\n}\n.header[_ngcontent-%COMP%] {\n  background: #575757;\n}\n.not-first-module[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n.stat[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n.stat.no-margin[_ngcontent-%COMP%] {\n  padding: 0px;\n}\n.stat[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  width: 23px;\n}\n.unlock-reqs-elite-and-level[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.unlock-reqs-elite-and-level[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  width: 25px;\n  margin-right: 10px;\n}\n.trust[_ngcontent-%COMP%] {\n  text-align: center;\n  margin-top: 15px;\n}\n.table.no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  border-bottom: none;\n}"]}),t})();function we(t,o){if(1&t&&(n.TgZ(0,"div",7),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij(" Skill ",e.summon.associatedSkillIndex," ")}}let Se=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-summon-table"]],inputs:{summon:"summon"},decls:19,vars:6,consts:[[1,"table",2,"margin-bottom","0px"],[1,"summon-col"],["style","margin-bottom: 10px;",4,"ngIf"],[1,"special",3,"src"],[2,"text-align","center"],[3,"id"],[3,"subject"],[2,"margin-bottom","10px"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th"),n._uU(4,"Summon"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Position"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Range"),n.qZA()(),n.TgZ(9,"tr")(10,"td")(11,"div",1),n.YNc(12,we,2,1,"div",2),n._UZ(13,"ion-img",3),n.qZA()(),n.TgZ(14,"td",4),n._uU(15),n.qZA(),n.TgZ(16,"td",4),n._UZ(17,"app-range-grid",5),n.qZA()()()(),n._UZ(18,"app-stat-table",6)),2&e&&(n.xp6(12),n.Q6J("ngIf",0!=i.summon.associatedSkillIndex),n.xp6(1),n.MGl("src","https://raw.githubusercontent.com/Aceship/Arknight-Images/main/avatars/",i.summon.id,".png"),n.uIk("data-tip",i.summon.name),n.xp6(2),n.Oqu(i.summon.position),n.xp6(2),n.Q6J("id",i.summon.statBreakpoints[0].rangeId),n.xp6(1),n.Q6J("subject",i.summon))},dependencies:[c.O5,h.Xz,Y,A],styles:[".summon-col[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.summon-col[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  width: 60px;\n}"]}),t})();function Je(t,o){1&t&&(n.TgZ(0,"th")(1,"div",2),n._UZ(2,"ion-img",9),n._uU(3," Unlock Requirements "),n.qZA()())}function Qe(t,o){1&t&&n._UZ(0,"app-item-component",10),2&t&&n.Q6J("item",o.$implicit)("isOperatorPage",!0)}function Le(t,o){1&t&&n._UZ(0,"app-item-component",10),2&t&&n.Q6J("item",o.$implicit)("isOperatorPage",!0)}function Ne(t,o){if(1&t&&(n.TgZ(0,"td")(1,"div",5),n._UZ(2,"ion-img",3),n.TgZ(3,"p",7),n._uU(4),n.qZA(),n.YNc(5,Le,1,2,"app-item-component",8),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(4),n.hij("Lv ",e.operator.statBreakpoints[2].eliteUnlockReqs.level,""),n.xp6(1),n.Q6J("ngForOf",e.operator.statBreakpoints[2].eliteUnlockReqs.items)}}function Fe(t,o){if(1&t&&(n.TgZ(0,"table",1)(1,"tbody")(2,"tr")(3,"th")(4,"div",2),n._UZ(5,"ion-img",3),n._uU(6," Unlock Requirements "),n.qZA()(),n.YNc(7,Je,4,0,"th",4),n.qZA(),n.TgZ(8,"tr")(9,"td")(10,"div",5),n._UZ(11,"ion-img",6),n.TgZ(12,"p",7),n._uU(13),n.qZA(),n.YNc(14,Qe,1,2,"app-item-component",8),n.qZA()(),n.YNc(15,Ne,6,2,"td",4),n.qZA()()()),2&t){const e=n.oxw();n.xp6(7),n.Q6J("ngIf",e.operator.rarity>3),n.xp6(6),n.hij("Lv ",e.operator.statBreakpoints[1].eliteUnlockReqs.level,""),n.xp6(1),n.Q6J("ngForOf",e.operator.statBreakpoints[1].eliteUnlockReqs.items),n.xp6(1),n.Q6J("ngIf",e.operator.rarity>3)}}let Ye=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-elite-unlock-reqs-table"]],inputs:{operator:"operator"},decls:1,vars:1,consts:[["class","table no-top-border",4,"ngIf"],[1,"table","no-top-border"],[1,"header-cell"],["src","assets/icons/elitePhases/1.webp",1,"elite-img"],[4,"ngIf"],[1,"req-cell"],["src","assets/icons/elitePhases/0.webp",1,"elite-img"],[1,"level"],[3,"item","isOperatorPage",4,"ngFor","ngForOf"],["src","assets/icons/elitePhases/2.webp",1,"elite-img"],[3,"item","isOperatorPage"]],template:function(e,i){1&e&&n.YNc(0,Fe,16,4,"table",0),2&e&&n.Q6J("ngIf",i.operator.rarity>2&&null!=i.operator.statBreakpoints[1].eliteUnlockReqs)},dependencies:[c.sg,c.O5,h.Xz,N.P],styles:[".table[_ngcontent-%COMP%] {\n  border-top: none;\n}\n\nion-img[_ngcontent-%COMP%] {\n  width: 30px;\n}\n\n.elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  display: inline-block;\n  margin-right: 5px;\n}\n\n.header-cell[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.req-cell[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.req-cell[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  display: inline-block;\n  transform: translateY(-5px);\n  margin-right: 5px;\n}\n\n.req-cell[_ngcontent-%COMP%]   .center-aligned[_ngcontent-%COMP%] {\n  text-align: center;\n  width: 0px;\n}\n\n.req-cell[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%] {\n  padding-right: 15px;\n  white-space: nowrap;\n}"]}),t})();function Re(t,o){if(1&t&&n._UZ(0,"ion-img",9),2&t){const e=n.oxw().$implicit;n.MGl("src","assets/icons/elitePhases/",e.elite,".webp")}}function Be(t,o){1&t&&n._UZ(0,"app-item-component",10),2&t&&n.Q6J("item",o.$implicit)}function je(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"th",5),n._uU(2),n.qZA(),n.TgZ(3,"td")(4,"div",6),n.YNc(5,Re,1,1,"ion-img",7),n.YNc(6,Be,1,1,"app-item-component",8),n.qZA()()()),2&t){const e=o.$implicit,i=o.index;n.xp6(2),n.hij(" ",i+2," "),n.xp6(3),n.Q6J("ngIf",e.elite>0),n.xp6(1),n.Q6J("ngForOf",e.items)}}function Ee(t,o){1&t&&n._UZ(0,"app-item-component",19),2&t&&n.Q6J("item",o.$implicit)("isMastery",!0)}function $e(t,o){if(1&t&&(n.TgZ(0,"div",16)(1,"p",17),n._uU(2),n.qZA(),n.TgZ(3,"div"),n.YNc(4,Ee,1,2,"app-item-component",18),n.qZA()()),2&t){const e=o.index,i=n.oxw().index,a=n.oxw(3);n.xp6(2),n.Oqu(a.operator.skills[e].name),n.xp6(2),n.Q6J("ngForOf",a.operator.skills[e].masteryUnlockReqs[i].items)}}function Ge(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"th",11),n._uU(2),n.qZA(),n.TgZ(3,"td")(4,"div",12),n.YNc(5,$e,5,2,"div",13),n.qZA(),n.TgZ(6,"div",14),n._UZ(7,"ion-img",15),n.TgZ(8,"p"),n._uU(9),n.qZA()()()()),2&t){const e=o.index,i=n.oxw(3);n.xp6(2),n.hij("Mastery ",e+1,""),n.xp6(3),n.Q6J("ngForOf",i.emptyArray(i.operator.skills.length)),n.xp6(4),n.hij("",8*(e+1)," hours")}}function He(t,o){if(1&t&&(n.ynx(0),n.YNc(1,Ge,10,3,"tr",3),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.emptyArray(3))}}function De(t,o){if(1&t&&(n.TgZ(0,"table",1)(1,"tbody")(2,"tr")(3,"th",2),n._uU(4," Skill Level Unlock Requirements "),n.qZA()(),n.YNc(5,je,7,3,"tr",3),n.YNc(6,He,2,1,"ng-container",4),n.qZA()()),2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngForOf",e.operator.skillLevelUnlockReqs),n.xp6(1),n.Q6J("ngIf",e.operator.rarity>3&&0!=e.operator.skills[0].masteryUnlockReqs.length)}}let Ke=(()=>{class t{constructor(){}ngOnInit(){}emptyArray(e){return new Array(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-skill-level-unlock-reqs-table"]],inputs:{operator:"operator"},decls:1,vars:1,consts:[["class","table","style","margin-top: 15px",4,"ngIf"],[1,"table",2,"margin-top","15px"],["colspan","2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","20%","height","85px"],[1,"req-container"],["class","elite-img",3,"src",4,"ngIf"],[3,"item",4,"ngFor","ngForOf"],[1,"elite-img",3,"src"],[3,"item"],[2,"width","20%","height","140px"],[1,"mastery"],["class","skill",4,"ngFor","ngForOf"],[1,"misc-mastery-reqs"],["src","assets/icons/elitePhases/2.webp",1,"elite-img"],[1,"skill"],[1,"name"],[3,"item","isMastery",4,"ngFor","ngForOf"],[3,"item","isMastery"]],template:function(e,i){1&e&&n.YNc(0,De,7,2,"table",0),2&e&&n.Q6J("ngIf",i.operator.skillLevelUnlockReqs.length>0)},dependencies:[c.sg,c.O5,h.Xz,N.P],styles:[".req-container[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 70px;\n}\n\n.elite-img[_ngcontent-%COMP%] {\n  width: 30px;\n  transform: translateY(-3px);\n  margin-right: 10px;\n}\n\n.misc-mastery-reqs[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #5c5c5c;\n  margin-top: 10px;\n}\n\n.misc-mastery-reqs[_ngcontent-%COMP%]   .elite-img[_ngcontent-%COMP%] {\n  margin-right: 30px;\n  margin-top: 7px;\n}\n\n.mastery[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-evenly;\n  text-align: center;\n}\n\n.mastery[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n  margin: 6px;\n}\n\n.mastery[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%] {\n  width: 0px;\n  flex: 1 1 0;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n}"]}),t})();const ze=["description"];function Xe(t,o){if(1&t&&(n.TgZ(0,"div",9),n._UZ(1,"ion-img",10),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.MGl("src","assets/icons/elitePhases/",e.unlockConditions.elite,".webp")}}function Ve(t,o){if(1&t&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.hij(" Lv ",e.unlockConditions.level," ")}}function We(t,o){1&t&&(n.TgZ(0,"div",11),n._uU(1," - "),n.qZA())}const nt=function(t){return{"unlock-condition-cell":t}};function et(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td",3),n._uU(2),n.qZA(),n._UZ(3,"td",4,5),n.TgZ(5,"td")(6,"div",6),n.YNc(7,Xe,2,1,"div",7),n.YNc(8,Ve,2,1,"div",7),n.YNc(9,We,2,0,"div",8),n.qZA()()()),2&t){const e=o.$implicit;n.xp6(2),n.hij(" ",e.name," "),n.xp6(1),n.Q6J("innerHtml",e.description,n.oJD),n.xp6(3),n.Q6J("ngClass",n.VKq(6,nt,e.unlockConditions.elite||e.unlockConditions.potential||e.unlockConditions.level)),n.xp6(1),n.Q6J("ngIf",e.unlockConditions.elite),n.xp6(1),n.Q6J("ngIf",e.unlockConditions.level),n.xp6(1),n.Q6J("ngIf",!e.unlockConditions.potential&&!e.unlockConditions.elite&&!e.unlockConditions.level)}}const tt=function(t){return{"top-margin":t}};let it=(()=>{class t{constructor(e){this.dialogService=e,this.talents=[],this.condenseElites=!0}ngOnInit(){this.operator.talents.forEach(e=>{const i=this.operator.name;this.talents.push("Castle-3"==i||"THRM-EX"==i||"Lancet-2"==i||"'Justice Knight'"==i?this.parseRobotTalent(e):this.parseTalent(e))}),setTimeout(()=>{for(let e=0;e<this.operator.talents.length;e++)this.descs._results[e].nativeElement.innerHTML=this.talents[e].description})}parseRobotTalent(e){let i=[],a=null,s=null;e.descriptions.forEach(r=>{const _=r.split(" ");if(a)for(let T=0;T<_.length;T++)a[T]!=_[T]&&(i.push(_[T]),s[T]+='<span class="positive-effect">  ('+_[T]+") </span>");else a=_.slice(),s=_.slice()});let l="";return s.forEach(r=>{l+=r+" "}),{description:l,unlockConditions:this.getRelevantUnlockConditions(e.unlockConditions[0]),level:0,name:e.name}}parseTalent(e){if(!e.descriptions[1])return{description:e.descriptions[0],unlockConditions:this.getRelevantUnlockConditions(e.unlockConditions[0]),level:0,name:e.name};let i=e.descriptions[1].split(" "),a=[];for(let r=0;r<i.length;r++)if(i[r].includes("positive-effect")){let _=i[r+1].slice(0,i[r+1].length-1);""==i[r+1]&&(_=i[r+2].slice(0,i[r+2].length-1)),a.push(_)}for(let r=0;r<i.length;r++)i[r].includes("positive-effect")&&(i[r-1]="",i[r]="~",i[r+1]="",i[r+2]="");let s=0;for(let r=0;r<i.length&&a[s];r++)if(i[r].includes("~")){i[r]=i[r].slice(0,i[r].length-1);let _=a[s];_=_.slice(1,_.length),_="("+_,i[r]+="<span class='positive-effect'> "+_+this.potImg(e.unlockConditions[1].potential-1)+") </span>",s++}for(let r=0;r<i.length;r++)i[r].includes("~")&&(i[r]=i[r].slice(0,i[r].length-1));let l="";for(let r=0;r<i.length;r++)l+=" "==i[r][i.length-1]||null!=i[r+1]&&" "==i[r+1][0]?i[r]:i[r]+" ";return{description:l,unlockConditions:this.getRelevantUnlockConditions(e.unlockConditions[0]),level:0,name:e.name}}getRelevantUnlockConditions(e){return 0==e.elite&&delete e.elite,1==e.level&&delete e.level,0==e.potential&&delete e.potential,e}emptyArray(e){return new Array(e)}eliteImg(e){return`<span> <img class="elite-img" src="assets/icons/elitePhases/${e}.webp" /></span>`}potImg(e){return`<span> <img class="elite-img" src="assets/icons/potentials/${e}.webp" /></span>`}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m.xA))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-talent-table"]],viewQuery:function(e,i){if(1&e&&n.Gf(ze,5),2&e){let a;n.iGM(a=n.CRH())&&(i.descs=a)}},inputs:{operator:"operator"},features:[n._Bn([m.xA])],decls:9,vars:4,consts:[[1,"table",3,"ngClass"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"center-aligned",2,"font-weight","bold"],[3,"innerHtml"],["description",""],[3,"ngClass"],["class","unlock-stat",4,"ngIf"],["class","no-unlock-condition",4,"ngIf"],[1,"unlock-stat"],[3,"src"],[1,"no-unlock-condition"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),n._uU(4," Talents "),n.qZA(),n.TgZ(5,"th"),n._uU(6," Elite Req. "),n.qZA()(),n.ynx(7),n.YNc(8,et,10,8,"tr",2),n.BQk(),n.qZA()()),2&e&&(n.Q6J("ngClass",n.VKq(2,tt,null==i.operator.statBreakpoints[0].eliteUnlockReqs)),n.xp6(8),n.Q6J("ngForOf",i.talents))},dependencies:[c.mk,c.sg,c.O5,h.Xz],styles:[".table.top-margin[_ngcontent-%COMP%] {\n  margin-top: 15px;\n}\n.table[_ngcontent-%COMP%]   .center-aligned[_ngcontent-%COMP%] {\n  text-align: center;\n}\n.table[_ngcontent-%COMP%]   .unlock-condition-cell[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: nowrap;\n}\n.table[_ngcontent-%COMP%]   .unlock-condition-cell[_ngcontent-%COMP%]   .unlock-stat[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  padding-right: 10px;\n  white-space: nowrap;\n}\n.table[_ngcontent-%COMP%]   .no-unlock-condition[_ngcontent-%COMP%] {\n  text-align: center;\n}\n.table[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  width: 30px;\n}"]}),t})();function ot(t,o){if(1&t&&(n.TgZ(0,"tr")(1,"td")(2,"div",4),n._UZ(3,"ion-img",5),n.qZA()(),n.TgZ(4,"td"),n._uU(5),n.qZA()()),2&t){const e=o.$implicit,i=o.index;n.xp6(3),n.MGl("src","assets/icons/potentials/",i,".webp"),n.xp6(2),n.hij(" ",e," ")}}function at(t,o){if(1&t&&(n.TgZ(0,"table",1)(1,"tbody")(2,"tr")(3,"th",2),n._uU(4," Potential Ranks "),n.qZA()(),n.YNc(5,ot,6,2,"tr",3),n.qZA()()),2&t){const e=n.oxw();n.xp6(5),n.Q6J("ngForOf",e.operator.potentials)}}let st=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-potential-table"]],inputs:{operator:"operator"},decls:1,vars:1,consts:[["class","table",4,"ngIf"],[1,"table"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"potential-cell"],[3,"src"]],template:function(e,i){1&e&&n.YNc(0,at,6,1,"table",0),2&e&&n.Q6J("ngIf",i.operator.potentials.length>0)},dependencies:[c.sg,c.O5,h.Xz],styles:[".table[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%] {\n  width: 40px;\n  padding-right: 10px;\n}\n.table[_ngcontent-%COMP%]   .potential-cell[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding: 0px 10px !important;\n  height: 30px;\n}"]}),t})();var rt=g(8878);function lt(t,o){if(1&t&&(n.TgZ(0,"p",3),n._uU(1),n.ALo(2,"numberFormatter"),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij("Loading... ",n.xi3(2,1,e.dbGetter.jsonLoadingProgress/e.dbGetter.maxJsonFiles,"percent"),"")}}function ct(t,o){if(1&t&&n._UZ(0,"app-module-table",16),2&t){const e=o.index,i=n.oxw(2);n.Q6J("operator",i.operator)("moduleIndex",e)}}function pt(t,o){if(1&t&&n._UZ(0,"app-skill-table",9),2&t){const e=n.oxw(2);n.Q6J("operator",e.operator)}}function gt(t,o){1&t&&n._UZ(0,"app-summon-table",17),2&t&&n.Q6J("summon",o.$implicit)}function _t(t,o){if(1&t&&n._UZ(0,"app-skill-level-unlock-reqs-table",9),2&t){const e=n.oxw(2);n.Q6J("operator",e.operator)}}const q=function(t){return{selected:t}},U=function(t){return{"not-selected-tab":t}},mt=function(t){return{"no-skills":t}};function dt(t,o){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"p",4),n._uU(2),n.qZA(),n.TgZ(3,"div",5)(4,"p",6),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.currentTab="info")}),n._uU(5,"Gameplay Info"),n.qZA(),n.TgZ(6,"p",6),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.currentTab="gallery")}),n._uU(7,"Gallery"),n.qZA(),n.TgZ(8,"p",6),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.currentTab="profile")}),n._uU(9,"Profile"),n.qZA(),n.TgZ(10,"p",6),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.currentTab="dialogue")}),n._uU(11,"Dialogue"),n.qZA()(),n.TgZ(12,"div",7)(13,"div",8),n._UZ(14,"app-operator-briefer",9)(15,"app-stat-table",10)(16,"app-elite-unlock-reqs-table",9)(17,"app-talent-table",9)(18,"app-potential-table",9)(19,"app-base-skill-table",9),n.YNc(20,ct,1,2,"app-module-table",11),n.qZA(),n.TgZ(21,"div",12),n.YNc(22,pt,1,1,"app-skill-table",13),n.YNc(23,gt,1,1,"app-summon-table",14),n.YNc(24,_t,1,1,"app-skill-level-unlock-reqs-table",13),n.qZA()(),n.TgZ(25,"div",0),n._UZ(26,"app-operator-gallery",15),n.qZA(),n.TgZ(27,"div",0),n._UZ(28,"app-profile-tab",9),n.qZA(),n.TgZ(29,"div",0),n._UZ(30,"app-dialogue-table",9),n.qZA(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.operator.name),n.xp6(2),n.Q6J("ngClass",n.VKq(24,q,"info"==e.currentTab)),n.xp6(2),n.Q6J("ngClass",n.VKq(26,q,"gallery"==e.currentTab)),n.xp6(2),n.Q6J("ngClass",n.VKq(28,q,"profile"==e.currentTab)),n.xp6(2),n.Q6J("ngClass",n.VKq(30,q,"dialogue"==e.currentTab)),n.xp6(2),n.Q6J("ngClass",n.VKq(32,U,"info"!=e.currentTab)),n.xp6(1),n.Q6J("ngClass",n.VKq(34,mt,0==e.operator.skills.length)),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("subject",e.operator),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("ngForOf",e.operator.modules),n.xp6(2),n.Q6J("ngIf",e.operator.rarity>2&&!e.operator.name.includes("Reserve")),n.xp6(1),n.Q6J("ngForOf",e.operator.summons),n.xp6(1),n.Q6J("ngIf",e.operator.rarity>2&&!e.operator.name.includes("Reserve")),n.xp6(1),n.Q6J("ngClass",n.VKq(36,U,"gallery"!=e.currentTab)),n.xp6(1),n.Q6J("isTab",!0)("operator",e.operator),n.xp6(1),n.Q6J("ngClass",n.VKq(38,U,"profile"!=e.currentTab)),n.xp6(1),n.Q6J("operator",e.operator),n.xp6(1),n.Q6J("ngClass",n.VKq(40,U,"dialogue"!=e.currentTab)),n.xp6(1),n.Q6J("operator",e.operator)}}const ut=function(t){return{blur:t}},ft=[{path:"",component:(()=>{class t{constructor(e,i,a,s,l,p){this.database=e,this.dbGetter=i,this.sharedService=a,this.router=s,this.route=l,this.opAvatarService=p,this.isFirstLoad=!1,this.currentTab="info",this.isBlurry=!1}ngOnInit(){let e;this.database.isLoaded&&this.refresh(this.route.snapshot.queryParams.name),this.routerSubscription=this.router.events.subscribe(i=>{i instanceof b.QW?e=i.snapshot.queryParams.name:i instanceof b.Xs&&null!=e&&this.refresh(e)}),this.jsonsLoadedSubscription=this.sharedService.jsonsLoaded.subscribe(()=>{this.refresh(this.route.snapshot.queryParams.name)}),this.toggledDialogSubscription=this.sharedService.toggledDialog.subscribe(i=>{this.isBlurry=i})}refresh(e=null){null!=e?(this.operator=null,setTimeout(()=>{const i=this.database.operators.findIndex(a=>encodeURIComponent(a.name.toLowerCase())==e.toLowerCase());this.operator=this.database.operators[i],setTimeout(()=>{this.sharedService.changeTabDisplay(this.operator.name,"https://raw.githubusercontent.com/Aceship/Arknight-Images/main/avatars/"+this.opAvatarService.getAvatar(this.operator)+".png")})})):this.router.navigate(["/main"],{replaceUrl:!0})}ngOnDestroy(){this.routerSubscription.unsubscribe(),this.jsonsLoadedSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(x.k),n.Y36(f.i),n.Y36(d.F),n.Y36(b.F0),n.Y36(b.gz),n.Y36(Z.j))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-operator"]],features:[n._Bn([m.xA])],decls:4,vars:5,consts:[[3,"ngClass"],["style","text-align: center; margin-top: 10px",4,"ngIf"],[4,"ngIf"],[2,"text-align","center","margin-top","10px"],[1,"op-name"],[1,"tabs"],[3,"ngClass","click"],[1,"dead-zone","container",3,"ngClass"],[1,"left-container",3,"ngClass"],[3,"operator"],[3,"subject"],[3,"operator","moduleIndex",4,"ngFor","ngForOf"],[1,"right-container"],[3,"operator",4,"ngIf"],[3,"summon",4,"ngFor","ngForOf"],[3,"isTab","operator"],[3,"operator","moduleIndex"],[3,"summon"]],template:function(e,i){1&e&&(n._UZ(0,"app-header"),n.TgZ(1,"ion-content",0),n.YNc(2,lt,3,4,"p",1),n.YNc(3,dt,31,42,"ng-container",2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngClass",n.VKq(3,ut,i.isBlurry)),n.xp6(1),n.Q6J("ngIf",!i.database.isLoaded),n.xp6(1),n.Q6J("ngIf",i.database.isLoaded&&i.operator))},dependencies:[c.mk,c.sg,c.O5,h.W2,y.G,Y,K,tn,Nn,Kn,ee,ue,Ue,Se,Ye,Ke,it,st,rt.m],styles:[".dead-zone[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.dead-zone.container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.op-name[_ngcontent-%COMP%] {\n  font-size: 20px;\n  font-weight: bold;\n  padding-left: 10px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.left-container[_ngcontent-%COMP%] {\n  flex: 1 1 360px;\n  margin-bottom: 15px;\n  padding-right: 15px;\n}\n.left-container.no-skills[_ngcontent-%COMP%] {\n  transform: translateX(50%);\n}\n.left-container.filter-table[_ngcontent-%COMP%] {\n  border: 1px solid white;\n  padding: 10px;\n  margin-right: 10px;\n  margin-bottom: 0px;\n  height: 90vh;\n  overflow: auto;\n}\n.right-container[_ngcontent-%COMP%] {\n  flex: 1 1 360px;\n}\n.right-container.operator-list[_ngcontent-%COMP%] {\n  border: 1px solid white;\n  padding: 10px;\n  height: 90vh;\n  overflow: auto;\n}\n.tabs[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-bottom: 10px;\n}\n.tabs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0px;\n  display: inline-block;\n  background: grey;\n  color: white;\n  padding: 5px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.tabs[_ngcontent-%COMP%]   p.selected[_ngcontent-%COMP%] {\n  background: #2a2929;\n  cursor: default;\n}\n.not-selected-tab[_ngcontent-%COMP%] {\n  display: none !important;\n}\n.trait-description[_ngcontent-%COMP%] {\n  white-space: pre-line;\n}"]}),t})()}];let ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[b.Bz.forChild(ft),b.Bz]}),t})();var xt=g(4466),bt=g(1493);let Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[c.ez,u.u5,h.Pc,ht,xt.m,bt.S,m.DL,R.L]}),t})()},6572:(v,C,g)=>{g(8399),v.exports.linear=g(9471),g(8665),g(608)},4177:v=>{v.exports.makeItArrayIfItsNot=function(C){return"[object Array]"!==Object.prototype.toString.call(C)?[C]:C},v.exports.findIntervalLeftBorderIndex=function(C,g){if(C<g[0])return 0;if(C>g[g.length-1])return g.length-1;for(var c,u=0,h=g.length-1;h-u!=1;)C>=g[c=u+Math.floor((h-u)/2)]?u=c:h=c;return u}},9471:(v,C,g)=>{var c=g(4177);v.exports=function u(b,m,n){var x=[];return(b=c.makeItArrayIfItsNot(b)).forEach(function(f){var d=c.findIntervalLeftBorderIndex(f,m);d==m.length-1&&d--,x.push(function h(b,m,n,x,f){var d=(f-n)/(x-m);return d*b+(-d*m+n)}(f,m[d],n[d],m[d+1],n[d+1]))}),x}},8665:(v,C,g)=>{v.exports=function u(h,b){for(var m={},n=h,x=b,f=x.length,d=0,Z=0,y=0,O=0,M=0,k=0;k<x.length;k++)d+=n[k],Z+=x[k],y+=n[k]*x[k],O+=n[k]*n[k],M+=x[k]*x[k];return m.slope=(f*y-d*Z)/(f*O-d*d),m.intercept=(Z-m.slope*d)/f,m.rSquared=Math.pow((f*y-d*Z)/Math.sqrt((f*O-d*d)*(f*M-Z*Z)),2),m.evaluate=function(J){var Q=c.makeItArrayIfItsNot(J),I=[],P=this;return Q.forEach(function(L){I.push(P.slope*L+P.intercept)}),I},m};var c=g(4177)},8399:(v,C,g)=>{var c=g(4177);v.exports=function u(b,m,n){var x=[];return(b=c.makeItArrayIfItsNot(b)).forEach(function(f){x.push(function h(b,m,n){for(var x=[n],f=1;f<m.length;f++){x.push([]);for(var d=1;d<=f;d++)x[d][f]=((b-m[f-d])*x[d-1][f]-(b-m[f])*x[d-1][f-1])/(m[f]-m[f-d])}return x[d-1][f-1]}(f,m,n))}),x}},608:(v,C,g)=>{var c=g(4177);v.exports=function u(h,b,m){return c.makeItArrayIfItsNot(h).map(function(n){return m[c.findIntervalLeftBorderIndex(n,b)]})}}}]);